"use strict";var EmulatorJS=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return function(r){var t,n,o,i,a=void 0!==(r=r||{})?r:{},u={};for(i in a)a.hasOwnProperty(i)&&(u[i]=a[i]);a.arguments=[],a.thisProgram="./this.program",a.quit=function(e,r){throw r},a.preRun=[],a.postRun=[];var s=!1,c=!1,l=!1,f=!1,m=!1;s="object"==typeof window,c="function"==typeof importScripts,f="object"==typeof process&&"function"==typeof require,l=f&&!s&&!c,m=!s&&!l&&!c;var d,p,_="";function g(e){return a.locateFile?a.locateFile(e,_):_+e}l?(_=__dirname+"/",a.read=function(e,r){var t;return d||(d=require("fs")),p||(p=require("path")),e=p.normalize(e),t=d.readFileSync(e),r?t:t.toString()},a.readBinary=function(e){var r=a.read(e,!0);return r.buffer||(r=new Uint8Array(r)),R(r.buffer),r},process.argv.length>1&&(a.thisProgram=process.argv[1].replace(/\\/g,"/")),a.arguments=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof gs))throw e})),process.on("unhandledRejection",ys),a.quit=function(e){process.exit(e)},a.inspect=function(){return"[Emscripten Module object]"}):m?("undefined"!=typeof read&&(a.read=function(e){return read(e)}),a.readBinary=function(e){var r;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(R("object"==typeof(r=read(e,"binary"))),r)},"undefined"!=typeof scriptArgs?a.arguments=scriptArgs:void 0!==arguments&&(a.arguments=arguments),"function"==typeof quit&&(a.quit=function(e){quit(e)})):(s||c)&&(c?_=self.location.href:document.currentScript&&(_=document.currentScript.src),e&&(_=e),_=0!==_.indexOf("blob:")?_.substr(0,_.lastIndexOf("/")+1):"",a.read=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},c&&(a.readBinary=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),a.readAsync=function(e,r,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?r(n.response):t()},n.onerror=t,n.send(null)},a.setWindowTitle=function(e){document.title=e});var v=a.print||("undefined"!=typeof console?void 0:"undefined"!=typeof print?print:null),h=a.printErr||("undefined"!=typeof printErr?printErr:v);for(i in u)u.hasOwnProperty(i)&&(a[i]=u[i]);u=void 0;function y(e){var r=ne[me>>2],t=r+e+15&-16;return t>Nt()&&ys(),ne[me>>2]=t,r}function E(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return 4;if("i"===e[0]){var r=parseInt(e.substr(1));return R(r%8==0,"getNativeTypeSize invalid bits "+r+", type "+e),r/8}return 0}}function w(e){w.shown||(w.shown={}),w.shown[e]||(w.shown[e]=1,h(e))}var b={"f64-rem":function(e,r){return e%r},debugger:function(){}};new Array(0);var x,k=0,S=function(e){k=e},C=function(){return k},D={};function A(e,r,o,i){switch("*"===(o=o||"i8").charAt(o.length-1)&&(o="i32"),o){case"i1":$[e>>0]=r;break;case"i8":$[e>>0]=r;break;case"i16":re[e>>1]=r;break;case"i32":ne[e>>2]=r;break;case"i64":n=[r>>>0,(t=r,+Fe(t)>=1?t>0?(0|Te(+Re(t/4294967296),4294967295))>>>0:~~+Le((t-+(~~t>>>0))/4294967296)>>>0:0)],ne[e>>2]=n[0],ne[e+4>>2]=n[1];break;case"float":ie[e>>2]=r;break;case"double":ae[e>>3]=r;break;default:ys("invalid type for setValue: "+o)}}function F(e,r,t){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":return $[e>>0];case"i8":return $[e>>0];case"i16":return re[e>>1];case"i32":return ne[e>>2];case"i64":return ne[e>>2];case"float":return ie[e>>2];case"double":return ae[e>>3];default:ys("invalid type for getValue: "+r)}return null}"object"!=typeof WebAssembly&&h("no native wasm support detected");var L=!1;function R(e,r){e||ys("Assertion failed: "+r)}function T(e){var r=a["_"+e];return R(r,"Cannot call unknown function "+e+", make sure it is exported"),r}function M(e,r,t,n,o){var i={string:function(e){var r=0;if(null!=e&&0!==e){var t=1+(e.length<<2);q(e,r=is(t),t)}return r},array:function(e){var r=is(e.length);return H(e,r),r}};var a=T(e),u=[],s=0;if(n)for(var c=0;c<n.length;c++){var l=i[t[c]];l?(0===s&&(s=us()),u[c]=l(n[c])):u[c]=n[c]}var f=a.apply(null,u);return f=function(e){return"string"===r?G(e):"boolean"===r?Boolean(e):e}(f),0!==s&&as(s),f}function P(e,r,t,n){var o=(t=t||[]).every((function(e){return"number"===e}));return"string"!==r&&o&&!n?T(e):function(){return M(e,r,t,arguments)}}var B=0,I=3;function O(e,r,t,n){var o,i;"number"==typeof e?(o=!0,i=e):(o=!1,i=e.length);var a,u="string"==typeof r?r:null;if(a=t==I?n:[ts,is,y][t](Math.max(i,u?1:r.length)),o){var s;for(n=a,R(0==(3&a)),s=a+(-4&i);n<s;n+=4)ne[n>>2]=0;for(s=a+i;n<s;)$[n++>>0]=0;return a}if("i8"===u)return e.subarray||e.slice?ee.set(e,a):ee.set(new Uint8Array(e),a),a;for(var c,l,f,m=0;m<i;){var d=e[m];0!==(c=u||r[m])?("i64"==c&&(c="i32"),A(a+m,d,c),f!==c&&(l=E(c),f=c),m+=l):m++}return a}function N(e){return we?ts(e):y(e)}var U="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function j(e,r,t){for(var n=r+t,o=r;e[o]&&!(o>=n);)++o;if(o-r>16&&e.subarray&&U)return U.decode(e.subarray(r,o));for(var i="";r<o;){var a=e[r++];if(128&a){var u=63&e[r++];if(192!=(224&a)){var s=63&e[r++];if((a=224==(240&a)?(15&a)<<12|u<<6|s:(7&a)<<18|u<<12|s<<6|63&e[r++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|u)}else i+=String.fromCharCode(a)}return i}function G(e,r){return e?j(ee,e,r):""}function z(e,r,t,n){if(!(n>0))return 0;for(var o=t,i=t+n-1,a=0;a<e.length;++a){var u=e.charCodeAt(a);if(u>=55296&&u<=57343)u=65536+((1023&u)<<10)|1023&e.charCodeAt(++a);if(u<=127){if(t>=i)break;r[t++]=u}else if(u<=2047){if(t+1>=i)break;r[t++]=192|u>>6,r[t++]=128|63&u}else if(u<=65535){if(t+2>=i)break;r[t++]=224|u>>12,r[t++]=128|u>>6&63,r[t++]=128|63&u}else{if(t+3>=i)break;r[t++]=240|u>>18,r[t++]=128|u>>12&63,r[t++]=128|u>>6&63,r[t++]=128|63&u}}return r[t]=0,t-o}function q(e,r,t){return z(e,ee,r,t)}function W(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++t)),n<=127?++r:r+=n<=2047?2:n<=65535?3:4}return r}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function X(e){var r=W(e)+1,t=ts(r);return t&&z(e,$,t,r),t}function V(e){var r=W(e)+1,t=is(r);return z(e,$,t,r),t}function H(e,r){$.set(e,r)}function Y(e,r,t){for(var n=0;n<e.length;++n)$[r++>>0]=e.charCodeAt(n);t||($[r>>0]=0)}function Q(e){return e.replace(/__Z[\w\d_]+/g,(function(e){return e===e?e:e+" ["+e+"]"}))}function Z(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(r){e=r}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function K(){var e=Z();return a.extraStackTrace&&(e+="\n"+a.extraStackTrace()),Q(e)}var J,$,ee,re,te,ne,oe,ie,ae,ue=16384,se=65536;function ce(e,r){return e%r>0&&(e+=r-e%r),e}function le(){a.HEAP8=$=new Int8Array(J),a.HEAP16=re=new Int16Array(J),a.HEAP32=ne=new Int32Array(J),a.HEAPU8=ee=new Uint8Array(J),a.HEAPU16=te=new Uint16Array(J),a.HEAPU32=oe=new Uint32Array(J),a.HEAPF32=ie=new Float32Array(J),a.HEAPF64=ae=new Float64Array(J)}var fe=6365024,me=1122112,de=5242880,pe=a.TOTAL_MEMORY||167772160;function _e(e){for(;e.length>0;){var r=e.shift();if("function"!=typeof r){var t=r.func;"number"==typeof t?void 0===r.arg?a.dynCall_v(t):a.dynCall_vi(t,r.arg):t(void 0===r.arg?null:r.arg)}else r()}}pe<de&&h("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+pe+"! (TOTAL_STACK="+de+")"),a.buffer?J=a.buffer:"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(x=new WebAssembly.Memory({initial:pe/se}),J=x.buffer):J=new ArrayBuffer(pe),le(),ne[me>>2]=fe;var ge=[],ve=[],he=[],ye=[],Ee=[],we=!1;function be(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)De(a.preRun.shift());_e(ge)}function xe(){we||(we=!0,a.noFSInit||Ur.init.initialized||Ur.init(),Pr.init(),_e(ve))}function ke(){Ur.ignorePermissions=!1,_e(he)}function Se(){_e(ye),Ur.quit(),Pr.shutdown(),!0}function Ce(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)Ae(a.postRun.shift());_e(Ee)}function De(e){ge.unshift(e)}function Ae(e){Ee.unshift(e)}var Fe=Math.abs,Le=Math.ceil,Re=Math.floor,Te=Math.min,Me=0,Pe=null,Be=null;function Ie(e){Me++,a.monitorRunDependencies&&a.monitorRunDependencies(Me)}function Oe(e){if(Me--,a.monitorRunDependencies&&a.monitorRunDependencies(Me),0==Me&&(null!==Pe&&(clearInterval(Pe),Pe=null),Be)){var r=Be;Be=null,r()}}a.preloadedImages={},a.preloadedAudios={};var Ne="data:application/octet-stream;base64,";function Ue(e){return String.prototype.startsWith?e.startsWith(Ne):0===e.indexOf(Ne)}var je="retroarch.wasm";function Ge(){try{if(a.wasmBinary)return new Uint8Array(a.wasmBinary);if(a.readBinary)return a.readBinary(je);throw"both async and sync fetching of the wasm failed"}catch(e){ys(e)}}function ze(){return a.wasmBinary||!s&&!c||"function"!=typeof fetch?new Promise((function(e,r){e(Ge())})):fetch(je,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+je+"'";return e.arrayBuffer()})).catch((function(){return Ge()}))}function qe(e){var r={env:e,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:b};function t(e,r){var t=e.exports;a.asm=t,Oe()}function n(e){t(e.instance)}function o(e){return ze().then((function(e){return WebAssembly.instantiate(e,r)})).then(e,(function(e){h("failed to asynchronously prepare wasm: "+e),ys(e)}))}if(Ie(),a.instantiateWasm)try{return a.instantiateWasm(r,t)}catch(e){return h("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(a.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||Ue(je)||"function"!=typeof fetch)return o(n);fetch(je,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(n,(function(e){h("wasm streaming compile failed: "+e),h("falling back to ArrayBuffer instantiation"),o(n)}))}))}(),{}}Ue(je)||(je=g(je)),a.asm=function(e,r,t){return r.memory=x,r.table=new WebAssembly.Table({initial:2315,maximum:2315,element:"anyfunc"}),r.__memory_base=1024,r.__table_base=0,qe(r)};var We=[function(e,r,t){if(void 0===window._RUMBLE_DATA&&(window._RUMBLE_DATA=[]),window._RUMBLE_DATA.length<2&&(1==r&&window._RUMBLE_DATA.push({type:1,value:t}),0==r&&window._RUMBLE_DATA.push({type:2,value:t})),2==window._RUMBLE_DATA.length){var n=0,o=0;for(var i in window._RUMBLE_DATA)1==window._RUMBLE_DATA[i].type&&(n=window._RUMBLE_DATA[i].value/65535),2==window._RUMBLE_DATA[i].type&&(o=window._RUMBLE_DATA[i].value/65535);var a=navigator.getGamepads()[0];a&&a.vibrationActuator&&a.vibrationActuator.playEffect("dual-rumble",{startDelay:0,duration:500,weakMagnitude:n,strongMagnitude:o}),window._RUMBLE_DATA=[]}}];function Xe(e,r,t,n){return We[e](r,t,n)}ve.push({func:function(){os()}});var Ve=1122128;function He(e,r){if(Ze.mainLoop.timingMode=e,Ze.mainLoop.timingValue=r,!Ze.mainLoop.func)return 1;if(0==e)Ze.mainLoop.scheduler=function(){var e=0|Math.max(0,Ze.mainLoop.tickStartTime+r-Ye());setTimeout(Ze.mainLoop.runner,e)},Ze.mainLoop.method="timeout";else if(1==e)Ze.mainLoop.scheduler=function(){Ze.requestAnimationFrame(Ze.mainLoop.runner)},Ze.mainLoop.method="rAF";else if(2==e){if(void 0===o){var t=[],n="setimmediate";addEventListener("message",(function(e){e.data!==n&&e.data.target!==n||(e.stopPropagation(),t.shift()())}),!0),o=function(e){t.push(e),c?(void 0===a.setImmediates&&(a.setImmediates=[]),a.setImmediates.push(e),postMessage({target:n})):postMessage(n,"*")}}Ze.mainLoop.scheduler=function(){o(Ze.mainLoop.runner)},Ze.mainLoop.method="immediate"}return 0}function Ye(){ys()}function Qe(e,r,t,n,o){var i;a.noExitRuntime=!0,R(!Ze.mainLoop.func,"'emscripten_set_main_loop' 一次只能有一个主循环功能,\n调用:'emscripten_cancel_main_loop'取消前一个,然后再设置一个不同参数的新主循环."),Ze.mainLoop.func=e,Ze.mainLoop.arg=n,i=void 0!==n?function(){a.dynCall_vi(e,n)}:function(){a.dynCall_v(e)};var u=Ze.mainLoop.currentlyRunningMainloop;if(Ze.mainLoop.runner=function(){if(!L)if(Ze.mainLoop.queue.length>0){Date.now();var e=Ze.mainLoop.queue.shift();if(e.func(e.arg),Ze.mainLoop.remainingBlockers){var r=Ze.mainLoop.remainingBlockers,t=r%1==0?r-1:Math.floor(r);e.counted?Ze.mainLoop.remainingBlockers=t:(t+=.5,Ze.mainLoop.remainingBlockers=(8*r+t)/9)}if(Ze.mainLoop.updateStatus(),u<Ze.mainLoop.currentlyRunningMainloop)return;setTimeout(Ze.mainLoop.runner,0)}else u<Ze.mainLoop.currentlyRunningMainloop||(Ze.mainLoop.currentFrameNumber=Ze.mainLoop.currentFrameNumber+1|0,1==Ze.mainLoop.timingMode&&Ze.mainLoop.timingValue>1&&Ze.mainLoop.currentFrameNumber%Ze.mainLoop.timingValue!=0?Ze.mainLoop.scheduler():(0==Ze.mainLoop.timingMode&&(Ze.mainLoop.tickStartTime=Ye()),"timeout"===Ze.mainLoop.method&&a.ctx&&(Ze.mainLoop.method=""),Ze.mainLoop.runIter(i),u<Ze.mainLoop.currentlyRunningMainloop||("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Ze.mainLoop.scheduler())))},o||(r&&r>0?He(0,1e3/r):He(1,1),Ze.mainLoop.scheduler()),t)throw"SimulateInfiniteLoop"}var Ze={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Ze.mainLoop.scheduler=null,Ze.mainLoop.currentlyRunningMainloop++},resume:function(){Ze.mainLoop.currentlyRunningMainloop++;var e=Ze.mainLoop.timingMode,r=Ze.mainLoop.timingValue,t=Ze.mainLoop.func;Ze.mainLoop.func=null,Qe(t,0,!1,Ze.mainLoop.arg,!0),He(e,r),Ze.mainLoop.scheduler()},updateStatus:function(){if(a.setStatus){var e=a.statusMessage||"Please wait...",r=Ze.mainLoop.remainingBlockers,t=Ze.mainLoop.expectedBlockers;r?r<t?a.setStatus(e+" ("+(t-r)+"/"+t+")"):a.setStatus(e):a.setStatus("")}},runIter:function(e){if(!L){if(a.preMainLoop)if(!1===a.preMainLoop())return;try{e()}catch(e){if(e instanceof gs)return;throw e&&"object"==typeof e&&e.stack&&h("exception thrown: "+[e,e.stack]),e}a.postMainLoop&&a.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(a.preloadPlugins||(a.preloadPlugins=[]),!Ze.initted){Ze.initted=!0;try{new Blob,Ze.hasBlobConstructor=!0}catch(e){Ze.hasBlobConstructor=!1}Ze.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Ze.hasBlobConstructor?null:void 0,Ze.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,a.noImageDecoding||void 0!==Ze.URLObject||(a.noImageDecoding=!0);var e={canHandle:function(e){return!a.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,r,t,n){var o=null;if(Ze.hasBlobConstructor)try{(o=new Blob([e],{type:Ze.getMimetype(r)})).size!==e.length&&(o=new Blob([new Uint8Array(e).buffer],{type:Ze.getMimetype(r)}))}catch(e){w("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!o){var i=new Ze.BlobBuilder;i.append(new Uint8Array(e).buffer),o=i.getBlob()}var u=Ze.URLObject.createObjectURL(o),s=new Image;s.onload=function(){R(s.complete,"Image "+r+" could not be decoded");var n=document.createElement("canvas");n.width=s.width,n.height=s.height,n.getContext("2d").drawImage(s,0,0),a.preloadedImages[r]=n,Ze.URLObject.revokeObjectURL(u),t&&t(e)},s.onerror=function(e){n&&n()},s.src=u}};a.preloadPlugins.push(e);var r={canHandle:function(e){return!a.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,r,t,n){var o=!1;function i(n){o||(o=!0,a.preloadedAudios[r]=n,t&&t(e))}function u(){o||(o=!0,a.preloadedAudios[r]=new Audio,n&&n())}if(!Ze.hasBlobConstructor)return u();try{var s=new Blob([e],{type:Ze.getMimetype(r)})}catch(e){return u()}var c=Ze.URLObject.createObjectURL(s),l=new Audio;l.addEventListener("canplaythrough",(function(){i(l)}),!1),l.onerror=function(t){o||(l.src="data:audio/x-"+r.substr(-3)+";base64,"+function(e){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="",n=0,o=0,i=0;i<e.length;i++)for(n=n<<8|e[i],o+=8;o>=6;){var a=n>>o-6&63;o-=6,t+=r[a]}return 2==o?(t+=r[(3&n)<<4],t+="=="):4==o&&(t+=r[(15&n)<<2],t+="="),t}(e),i(l))},l.src=c,Ze.safeSetTimeout((function(){i(l)}),1e4)}};a.preloadPlugins.push(r);var t=a.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||function(){},t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",n,!1),document.addEventListener("mozpointerlockchange",n,!1),document.addEventListener("webkitpointerlockchange",n,!1),document.addEventListener("mspointerlockchange",n,!1),a.elementPointerLock&&t.addEventListener("click",(function(e){!Ze.pointerLock&&a.canvas.requestPointerLock&&(a.canvas.requestPointerLock(),e.preventDefault())}),!1))}function n(){Ze.pointerLock=document.pointerLockElement===a.canvas||document.mozPointerLockElement===a.canvas||document.webkitPointerLockElement===a.canvas||document.msPointerLockElement===a.canvas}},createContext:function(e,r,t,n){if(r&&a.ctx&&e==a.canvas)return a.ctx;var o,i;if(r){var u={antialias:!1,alpha:!1,majorVersion:1};if(n)for(var s in n)u[s]=n[s];void 0!==mr&&(i=mr.createContext(e,u))&&(o=mr.getContext(i).GLctx)}else o=e.getContext("2d");return o?(t&&(r||R(void 0===Mu,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),a.ctx=o,r&&mr.makeContextCurrent(i),a.useWebGL=r,Ze.moduleContextCreatedCallbacks.forEach((function(e){e()})),Ze.init()),o):null},destroyContext:function(e,r,t){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,r,t){return;Ze.lockPointer=e,Ze.resizeCanvas=r,Ze.vrDevice=t,void 0===Ze.lockPointer&&(Ze.lockPointer=!0),void 0===Ze.resizeCanvas&&(Ze.resizeCanvas=!1),void 0===Ze.vrDevice&&(Ze.vrDevice=null);var n=a.canvas;function o(){return;Ze.isFullscreen=!1;var e=n.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(n.exitFullscreen=Ze.exitFullscreen,Ze.lockPointer&&n.requestPointerLock(),Ze.isFullscreen=!0,Ze.resizeCanvas?Ze.setFullscreenCanvasSize():Ze.updateCanvasDimensions(n)):(e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),Ze.resizeCanvas?Ze.setWindowedCanvasSize():Ze.updateCanvasDimensions(n)),a.onFullScreen&&a.onFullScreen(Ze.isFullscreen),a.onFullscreen&&a.onFullscreen(Ze.isFullscreen)}Ze.fullscreenHandlersInstalled||(Ze.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",o,!1),document.addEventListener("mozfullscreenchange",o,!1),document.addEventListener("webkitfullscreenchange",o,!1),document.addEventListener("MSFullscreenChange",o,!1));var i=document.createElement("div");n.parentNode.insertBefore(i,n),i.appendChild(n),i.requestFullscreen=i.requestFullscreen||i.mozRequestFullScreen||i.msRequestFullscreen||(i.webkitRequestFullscreen?function(){i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(i.webkitRequestFullScreen?function(){i.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),t?i.requestFullscreen({vrDisplay:t}):i.requestFullscreen()},requestFullScreen:function(e,r,t){return;return h("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),Ze.requestFullScreen=function(e,r,t){return Ze.requestFullscreen(e,r,t)},Ze.requestFullscreen(e,r,t)},exitFullscreen:function(){return;return!!Ze.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0)},nextRAF:0,fakeRequestAnimationFrame:function(e){var r=Date.now();if(0===Ze.nextRAF)Ze.nextRAF=r+1e3/60;else for(;r+2>=Ze.nextRAF;)Ze.nextRAF+=1e3/60;var t=Math.max(Ze.nextRAF-r,0);setTimeout(e,t)},requestAnimationFrame:function(e){"function"!=typeof requestAnimationFrame?(0,Ze.fakeRequestAnimationFrame)(e):requestAnimationFrame(e)},safeCallback:function(e){return function(){if(!L)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Ze.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Ze.allowAsyncCallbacks=!0,Ze.queuedAsyncCallbacks.length>0){var e=Ze.queuedAsyncCallbacks;Ze.queuedAsyncCallbacks=[],e.forEach((function(e){e()}))}},safeRequestAnimationFrame:function(e){return Ze.requestAnimationFrame((function(){L||(Ze.allowAsyncCallbacks?e():Ze.queuedAsyncCallbacks.push(e))}))},safeSetTimeout:function(e,r){return a.noExitRuntime=!0,setTimeout((function(){L||(Ze.allowAsyncCallbacks?e():Ze.queuedAsyncCallbacks.push(e))}),r)},safeSetInterval:function(e,r){return a.noExitRuntime=!0,setInterval((function(){L||Ze.allowAsyncCallbacks&&e()}),r)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var r=0;switch(e.type){case"DOMMouseScroll":r=e.detail/3;break;case"mousewheel":r=e.wheelDelta/120;break;case"wheel":switch(r=e.deltaY,e.deltaMode){case 0:r/=100;break;case 1:r/=3;break;case 2:r*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return r},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){return 0;if(Ze.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Ze.mouseMovementX=Ze.mouseMovementY=0:(Ze.mouseMovementX=Ze.getMovementX(e),Ze.mouseMovementY=Ze.getMovementY(e)),"undefined"!=typeof SDL?(Ze.mouseX=SDL.mouseX+Ze.mouseMovementX,Ze.mouseY=SDL.mouseY+Ze.mouseMovementY):(Ze.mouseX+=Ze.mouseMovementX,Ze.mouseY+=Ze.mouseMovementY);else{var r=a.canvas.getBoundingClientRect(),t=a.canvas.width,n=a.canvas.height,o=void 0!==window.scrollX?window.scrollX:window.pageXOffset,i=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var u=e.touch;if(void 0===u)return;var s=u.pageX-(o+r.left),c=u.pageY-(i+r.top),l={x:s*=t/r.width,y:c*=n/r.height};if("touchstart"===e.type)Ze.lastTouches[u.identifier]=l,Ze.touches[u.identifier]=l;else if("touchend"===e.type||"touchmove"===e.type){var f=Ze.touches[u.identifier];f||(f=l),Ze.lastTouches[u.identifier]=f,Ze.touches[u.identifier]=l}return}var m=e.pageX-(o+r.left),d=e.pageY-(i+r.top);m*=t/r.width,d*=n/r.height,Ze.mouseMovementX=m-Ze.mouseX,Ze.mouseMovementY=d-Ze.mouseY,Ze.mouseX=m,Ze.mouseY=d}},asyncLoad:function(e,r,t,n){var o=n?"":"al "+e;a.readAsync(e,(function(t){R(t,'Loading data file "'+e+'" failed (no arrayBuffer).'),r(new Uint8Array(t)),o&&Oe()}),(function(r){if(!t)throw'Loading data file "'+e+'" failed.';t()})),o&&Ie()},resizeListeners:[],updateResizeListeners:function(){var e=a.canvas;Ze.resizeListeners.forEach((function(r){return;r(e.width,e.height)}))},setCanvasSize:function(e,r,t){var n=a.canvas;Ze.updateCanvasDimensions(n,e,r),t||Ze.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=oe[SDL.screen>>2];e|=8388608,ne[SDL.screen>>2]=e}Ze.updateCanvasDimensions(a.canvas),Ze.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=oe[SDL.screen>>2];e&=-8388609,ne[SDL.screen>>2]=e}Ze.updateCanvasDimensions(a.canvas),Ze.updateResizeListeners()},updateCanvasDimensions:function(e,r,t){if(0){r&&t?(e.widthNative=r,e.heightNative=t):(r=e.widthNative,t=e.heightNative);var n=r,o=t;if(a.forcedAspectRatio&&a.forcedAspectRatio>0&&(n/o<a.forcedAspectRatio?n=Math.round(o*a.forcedAspectRatio):o=Math.round(n/a.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var i=Math.min(screen.width/n,screen.height/o);n=Math.round(n*i),o=Math.round(o*i)}Ze.resizeCanvas?(e.width!=n&&(e.width=n),e.height!=o&&(e.height=o),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=r&&(e.width=r),e.height!=t&&(e.height=t),void 0!==e.style&&(n!=r||o!=t?(e.style.setProperty("width",n+"px","important"),e.style.setProperty("height",o+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=Ze.nextWgetRequestHandle;return Ze.nextWgetRequestHandle++,e}};function Ke(e){var r=e/1e3;if((s||c)&&self.performance&&self.performance.now)for(var t=self.performance.now();self.performance.now()-t<r;);else for(t=Date.now();Date.now()-t<r;);return 0}var Je={BUFFER_SIZE:2048,context:null,buffers:[],numBuffers:0,bufIndex:0,bufOffset:0,startTime:0,nonblock:!1,currentTimeWorkaround:!1,setStartTime:function(){a.MSG("音乐启动！"),Je.startTime=window.performance.now()-1e3*Je.context.currentTime,a.resumeMainLoop()},getCurrentPerfTime:function(){return Je.startTime?(window.performance.now()-Je.startTime)/1e3:0},process:function(e){if(!a.runMusic)return 0;for(var r=Je.getCurrentPerfTime(),t=0;t<Je.bufIndex;t++)if(0!==Je.buffers[t].endTime&&Je.buffers[t].endTime<r){Je.buffers[t].endTime=0;var n=Je.buffers.splice(t,1);Je.buffers[Je.numBuffers-1]=n[0],t--,Je.bufIndex--}},fillBuffer:function(e,r){var t=0;const n=Je.buffers[Je.bufIndex].getChannelData(0),o=Je.buffers[Je.bufIndex].getChannelData(1);for(;r&&Je.bufOffset!==Je.BUFFER_SIZE;)n[Je.bufOffset]=ie[e+8*t>>2],o[Je.bufOffset]=ie[e+(8*t+4)>>2],Je.bufOffset++,t++,r--;return t},queueAudio:function(){var e,r=Je.bufIndex;e=Je.bufIndex?Je.buffers[Je.bufIndex-1].endTime:Je.context.currentTime,Je.buffers[r].endTime=e+Je.buffers[r].duration;const t=Je.context.createBufferSource();t.buffer=Je.buffers[r],t.connect(Je.context.destination),t.start(e),Je.bufIndex++,Je.bufOffset=0},block:function(){do{Je.process()}while(Je.bufIndex===Je.numBuffers)}};function $e(){return Je.numBuffers*Je.BUFFER_SIZE*8}function er(){Je.bufIndex=0,Je.bufOffset=0}function rr(e){if(!a.runMusic)return 0;a.pauseMainLoop();var r=window.AudioContext||window.webkitAudioContext;if(!r)return 0;Je.context=new r,Je.numBuffers=e*Je.context.sampleRate/(1e3*Je.BUFFER_SIZE)|0,Je.numBuffers<2&&(Je.numBuffers=2);for(var t=0;t<Je.numBuffers;t++)Je.buffers[t]=Je.context.createBuffer(2,Je.BUFFER_SIZE,Je.context.sampleRate),Je.buffers[t].endTime=0;return Je.nonblock=!1,Je.startTime=0,Je.context.createGain(),a.MusicStart=()=>{Je.context.resume(),Je.setStartTime()},a.MusicMSG(),1}function tr(){Je.startTime&&(Je.startTime=window.performance.now()-1e3*Je.context.currentTime)}function nr(){return Je.context?Je.context.sampleRate:4800}function or(e){Je.nonblock=e}function ir(){return!0}function ar(){return Je.bufIndex=0,Je.bufOffset=0,!0}function ur(e,r){if(!Je.context)return 0;Je.process();for(var t=r/8,n=0;t;){if(Je.bufIndex===Je.numBuffers){if(Je.nonblock)break;Je.block()}var o=Je.fillBuffer(e,t);t-=o,n+=o,e+=8*o,Je.bufOffset===Je.BUFFER_SIZE&&Je.queueAudio()}return 8*n}function sr(){return Je.context?(Je.process(),8*((Je.numBuffers-Je.bufIndex)*Je.BUFFER_SIZE-Je.bufOffset)):0}var cr={RETRO_CAMERA_BUFFER_OPENGL_TEXTURE:0,RETRO_CAMERA_BUFFER_RAW_FRAMEBUFFER:1,tmp:null,contexts:[],counter:0,ready:function(e){return 2==cr.contexts[e].runMode&&!cr.contexts[e].videoElement.paused&&0!=cr.contexts[e].videoElement.videoWidth&&0!=cr.contexts[e].videoElement.videoHeight}};function lr(e){cr.contexts[e].videoElement.pause(),URL.revokeObjectURL(cr.contexts[e].videoElement.src),cr.contexts[e].videoElement=null,cr.contexts[e]=null}function fr(e,r,t,n){if(!navigator)return 0;if(navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,!navigator.getMedia)return 0;var o=++cr.counter;return cr.contexts[o]=[],cr.contexts[o].videoElement=document.createElement("video"),0!==t&&0!==n&&(cr.contexts[o].videoElement.width=t,cr.contexts[o].videoElement.height=n),cr.contexts[o].runMode=1,cr.contexts[o].glTex=e&1<<cr.RETRO_CAMERA_BUFFER_OPENGL_TEXTURE,cr.contexts[o].rawFb=e&1<<cr.RETRO_CAMERA_BUFFER_RAW_FRAMEBUFFER,navigator.getMedia({video:!0,audio:!1},(function(e){cr.contexts[o].videoElement.autoplay=!0,cr.contexts[o].videoElement.src=URL.createObjectURL(e),cr.contexts[o].runMode=2}),(function(e){cr.runMode=0})),cr.tmp||(cr.tmp=ts(4)),o}var mr={counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},currentContext:null,offscreenCanvases:{},timerQueriesEXT:[],programInfos:{},stringCache:{},unpackAlignment:4,init:function(){mr.miniTempBuffer=new Float32Array(mr.MINI_TEMP_BUFFER_SIZE);for(var e=0;e<mr.MINI_TEMP_BUFFER_SIZE;e++)mr.miniTempBufferViews[e]=mr.miniTempBuffer.subarray(0,e+1)},recordError:function(e){mr.lastError||(mr.lastError=e)},getNewId:function(e){for(var r=mr.counter++,t=e.length;t<r;t++)e[t]=null;return r},MINI_TEMP_BUFFER_SIZE:256,miniTempBuffer:null,miniTempBufferViews:[0],getSource:function(e,r,t,n){for(var o="",i=0;i<r;++i){var a=n?ne[n+4*i>>2]:-1;o+=G(ne[t+4*i>>2],a<0?void 0:a)}return o},createContext:function(e,r){var t=e.getContext("webgl",r)||e.getContext("experimental-webgl",r);return t&&mr.registerContext(t,r)},registerContext:function(e,r){var t=ts(8),n={handle:t,attributes:r,version:r.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),mr.contexts[t]=n,(void 0===r.enableExtensionsByDefault||r.enableExtensionsByDefault)&&mr.initExtensions(n),t},makeContextCurrent:function(e){return mr.currentContext=mr.contexts[e],a.ctx=Mu=mr.currentContext&&mr.currentContext.GLctx,!(e&&!Mu)},getContext:function(e){return mr.contexts[e]},deleteContext:function(e){mr.currentContext===mr.contexts[e]&&(mr.currentContext=null),"object"==typeof At&&At.removeAllHandlersOnTarget(mr.contexts[e].GLctx.canvas),mr.contexts[e]&&mr.contexts[e].GLctx.canvas&&(mr.contexts[e].GLctx.canvas.GLctxObject=void 0),rs(mr.contexts[e]),mr.contexts[e]=null},initExtensions:function(e){if(e||(e=mr.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var r=e.GLctx;if(e.version<2){var t=r.getExtension("ANGLE_instanced_arrays");t&&(r.vertexAttribDivisor=function(e,r){t.vertexAttribDivisorANGLE(e,r)},r.drawArraysInstanced=function(e,r,n,o){t.drawArraysInstancedANGLE(e,r,n,o)},r.drawElementsInstanced=function(e,r,n,o,i){t.drawElementsInstancedANGLE(e,r,n,o,i)});var n=r.getExtension("OES_vertex_array_object");n&&(r.createVertexArray=function(){return n.createVertexArrayOES()},r.deleteVertexArray=function(e){n.deleteVertexArrayOES(e)},r.bindVertexArray=function(e){n.bindVertexArrayOES(e)},r.isVertexArray=function(e){return n.isVertexArrayOES(e)});var o=r.getExtension("WEBGL_draw_buffers");o&&(r.drawBuffers=function(e,r){o.drawBuffersWEBGL(e,r)})}r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query");var i=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2"],a=r.getSupportedExtensions();a&&a.length>0&&r.getSupportedExtensions().forEach((function(e){-1!=i.indexOf(e)&&r.getExtension(e)}))}},populateUniformTable:function(e){for(var r=mr.programs[e],t=mr.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},n=t.uniforms,o=Mu.getProgramParameter(r,35718),i=0;i<o;++i){var a=Mu.getActiveUniform(r,i),u=a.name;t.maxUniformLength=Math.max(t.maxUniformLength,u.length+1),"]"==u.slice(-1)&&(u=u.slice(0,u.lastIndexOf("[")));var s=Mu.getUniformLocation(r,u);if(s){var c=mr.getNewId(mr.uniforms);n[u]=[a.size,c],mr.uniforms[c]=s;for(var l=1;l<a.size;++l){var f=u+"["+l+"]";s=Mu.getUniformLocation(r,f),c=mr.getNewId(mr.uniforms),mr.uniforms[c]=s}}}}};function dr(e,r){Mu.bindTexture(e,mr.textures[r])}function pr(e,r,o){if(r){var i=void 0;switch(e){case 36346:i=1;break;case 36344:return void("Integer"!==o&&"Integer64"!==o&&mr.recordError(1280));case 36345:i=0;break;case 34466:var a=Mu.getParameter(34467);i=a?a.length:0;break}if(void 0===i){var u=Mu.getParameter(e);switch(typeof u){case"number":i=u;break;case"boolean":i=u?1:0;break;case"string":return void mr.recordError(1280);case"object":if(null===u)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 34068:i=0;break;default:return void mr.recordError(1280)}else{if(u instanceof Float32Array||u instanceof Uint32Array||u instanceof Int32Array||u instanceof Array){for(var s=0;s<u.length;++s)switch(o){case"Integer":ne[r+4*s>>2]=u[s];break;case"Float":ie[r+4*s>>2]=u[s];break;case"Boolean":$[r+s>>0]=u[s]?1:0;break;default:throw"internal glGet error, bad type: "+o}return}try{i=0|u.name}catch(r){return mr.recordError(1280),void h("GL_INVALID_ENUM in glGet"+o+"v: Unknown object returned from WebGL getParameter("+e+")! (error: "+r+")")}}break;default:return void mr.recordError(1280)}}switch(o){case"Integer64":n=[i>>>0,(t=i,+Fe(t)>=1?t>0?(0|Te(+Re(t/4294967296),4294967295))>>>0:~~+Le((t-+(~~t>>>0))/4294967296)>>>0:0)],ne[r>>2]=n[0],ne[r+4>>2]=n[1];break;case"Integer":ne[r>>2]=i;break;case"Float":ie[r>>2]=i;break;case"Boolean":$[r>>0]=i?1:0;break;default:throw"internal glGet error, bad type: "+o}}else mr.recordError(1281)}function _r(e,r){pr(e,r,"Integer")}function gr(e,r,t){if(!cr.ready(e))return 0;var n=0;if(0!==cr.contexts[e].glTexId&&0!==t){_r(32873,cr.tmp);var o=ne[cr.tmp>>2];dr(3553,cr.contexts[e].glTexId),cr.contexts[e].glFirstFrame?(a.ctx.texImage2D(a.ctx.TEXTURE_2D,0,a.ctx.RGB,a.ctx.RGB,a.ctx.UNSIGNED_BYTE,cr.contexts[e].videoElement),cr.contexts[e].glFirstFrame=!1):a.ctx.texSubImage2D(a.ctx.TEXTURE_2D,0,0,0,a.ctx.RGB,a.ctx.UNSIGNED_BYTE,cr.contexts[e].videoElement),dr(3553,o),D.dynCall("viii",t,[cr.contexts[e].glTexId,3553,0]),n=1}if(cr.contexts[e].rawFbCanvas&&0!==r){cr.contexts[e].rawFbCanvasCtx||(cr.contexts[e].rawFbCanvas.width=cr.contexts[e].videoElement.videoWidth,cr.contexts[e].rawFbCanvas.height=cr.contexts[e].videoElement.videoHeight,cr.contexts[e].rawFbCanvasCtx=cr.contexts[e].rawFbCanvas.getContext("2d"),cr.contexts[e].rawBuffer=ts(cr.contexts[e].videoElement.videoWidth*cr.contexts[e].videoElement.videoHeight*4)),cr.contexts[e].rawFbCanvasCtx.drawImage(cr.contexts[e].videoElement,0,0,cr.contexts[e].rawFbCanvas.width,cr.contexts[e].rawFbCanvas.height);var i=cr.contexts[e].rawFbCanvasCtx.getImageData(0,0,cr.contexts[e].videoElement.videoWidth,cr.contexts[e].videoElement.videoHeight);a.HEAPU8.set(i.data,cr.contexts[e].rawBuffer),D.dynCall("viiii",r,[cr.contexts[e].rawBuffer,cr.contexts[e].videoElement.videoWidth,cr.contexts[e].videoElement.videoHeight,4*cr.contexts[e].videoElement.videoWidth]),n=1}return n}function vr(e,r,t,n){for(var o=0;o<e;o++){var i=Mu[t](),a=i&&mr.getNewId(n);i?(i.name=a,n[a]=i):mr.recordError(1282),ne[r+4*o>>2]=a}}function hr(e,r){vr(e,r,"createTexture",mr.textures)}function yr(e,r,t){Mu.texParameteri(e,r,t)}function Er(e){var r=0;if(cr.contexts[e].glTex&&(hr(1,cr.tmp),cr.contexts[e].glTexId=ne[cr.tmp>>2],0!==cr.contexts[e].glTexId)){_r(32873,cr.tmp);var t=ne[cr.tmp>>2];dr(3553,cr.contexts[e].glTexId),yr(3553,10240,9729),yr(3553,10241,9729),yr(3553,10242,33071),yr(3553,10243,33071),dr(3553,t),cr.contexts[e].glFirstFrame=!0,r=1}return cr.contexts[e].rawFb&&(cr.contexts[e].rawFbCanvas=document.createElement("canvas"),r=1),r}function wr(e,r){for(var t=0;t<e;t++){var n=ne[r+4*t>>2],o=mr.textures[n];o&&(Mu.deleteTexture(o),o.name=0,mr.textures[n]=null)}}function br(e){cr.contexts[e].glTexId&&wr(1,cr.contexts[e].glTexId),cr.contexts[e].rawFbCanvas&&(cr.contexts[e].rawBuffer&&(rs(cr.contexts[e].rawBuffer),cr.contexts[e].rawBuffer=0,cr.contexts[e].rawFbCanvasCtx=null),cr.contexts[e].rawFbCanvas=null)}function xr(e,r,t,n){ys("Assertion failed: "+G(e)+", at: "+[r?G(r):"unknown filename",t,n?G(n):"unknown function"])}var kr={};function Sr(e){var r,t;Sr.called?(t=ne[e>>2],r=ne[t>>2]):(Sr.called=!0,kr.USER=kr.LOGNAME="web_user",kr.PATH="/",kr.PWD="/",kr.HOME="/home/web_user",kr.LANG="C.UTF-8",kr._=a.thisProgram,r=N(1024),t=N(256),ne[t>>2]=r,ne[e>>2]=t);var n=[],o=0;for(var i in kr)if("string"==typeof kr[i]){var u=i+"="+kr[i];n.push(u),o+=u.length}if(o>1024)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");for(var s=0;s<n.length;s++){Y(u=n[s],r),ne[t+4*s>>2]=r,r+=u.length+1}ne[t+4*n.length>>2]=0}function Cr(e,r){ye.unshift({func:e,arg:r})}function Dr(){return Cr.apply(null,arguments)}function Ar(){return!!Zu.uncaught_exception}function Fr(){}function Lr(){}var Rr={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var t=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:function(e){var r="/"===e.charAt(0),t="/"===e.substr(-1);return(e=Rr.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||r||(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=Rr.splitPath(e),t=r[0],n=r[1];return t||n?(n&&(n=n.substr(0,n.length-1)),t+n):"."},basename:function(e){if("/"===e)return"/";var r=e.lastIndexOf("/");return-1===r?e:e.substr(r+1)},extname:function(e){return Rr.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Rr.normalize(e.join("/"))},join2:function(e,r){return Rr.normalize(e+"/"+r)}};function Tr(e){return a.___errno_location&&(ne[a.___errno_location()>>2]=e),e}var Mr={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:Ur.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r="/"===n.charAt(0)}return(r?"/":"")+(e=Rr.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||"."},relative:function(e,r){function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;t>=0&&""===e[t];t--);return r>t?[]:e.slice(r,t-r+1)}e=Mr.resolve(e).substr(1),r=Mr.resolve(r).substr(1);for(var n=t(e.split("/")),o=t(r.split("/")),i=Math.min(n.length,o.length),a=i,u=0;u<i;u++)if(n[u]!==o[u]){a=u;break}var s=[];for(u=a;u<n.length;u++)s.push("..");return(s=s.concat(o.slice(a))).join("/")}},Pr={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){Pr.ttys[e]={input:[],output:[],ops:r},Ur.registerDevice(e,Pr.stream_ops)},stream_ops:{open:function(e){var r=Pr.ttys[e.node.rdev];if(!r)throw new Ur.ErrnoError(19);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.get_char)throw new Ur.ErrnoError(6);for(var i=0,a=0;a<n;a++){var u;try{u=e.tty.ops.get_char(e.tty)}catch(e){throw new Ur.ErrnoError(5)}if(void 0===u&&0===i)throw new Ur.ErrnoError(11);if(null==u)break;i++,r[t+a]=u}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.put_char)throw new Ur.ErrnoError(6);try{for(var i=0;i<n;i++)e.tty.ops.put_char(e.tty,r[t+i])}catch(e){throw new Ur.ErrnoError(5)}return n&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(l){var t=new Buffer(256),n=0,o="win32"!=process.platform,i=process.stdin.fd;if(o){var a=!1;try{i=Bu.openSync("/dev/stdin","r"),a=!0}catch(e){}}try{n=Bu.readSync(i,t,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;n=0}a&&Bu.closeSync(i),r=n>0?t.slice(0,n).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n");if(!r)return null;e.input=Nu(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(v(j(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(v(j(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(h(j(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(h(j(e.output,0)),e.output=[])}}},Br={ops_table:null,mount:function(e){return Br.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(Ur.isBlkdev(t)||Ur.isFIFO(t))throw new Ur.ErrnoError(1);Br.ops_table||(Br.ops_table={dir:{node:{getattr:Br.node_ops.getattr,setattr:Br.node_ops.setattr,lookup:Br.node_ops.lookup,mknod:Br.node_ops.mknod,rename:Br.node_ops.rename,unlink:Br.node_ops.unlink,rmdir:Br.node_ops.rmdir,readdir:Br.node_ops.readdir,symlink:Br.node_ops.symlink},stream:{llseek:Br.stream_ops.llseek}},file:{node:{getattr:Br.node_ops.getattr,setattr:Br.node_ops.setattr},stream:{llseek:Br.stream_ops.llseek,read:Br.stream_ops.read,write:Br.stream_ops.write,allocate:Br.stream_ops.allocate,mmap:Br.stream_ops.mmap,msync:Br.stream_ops.msync}},link:{node:{getattr:Br.node_ops.getattr,setattr:Br.node_ops.setattr,readlink:Br.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Br.node_ops.getattr,setattr:Br.node_ops.setattr},stream:Ur.chrdev_stream_ops}});var o=Ur.createNode(e,r,t,n);return Ur.isDir(o.mode)?(o.node_ops=Br.ops_table.dir.node,o.stream_ops=Br.ops_table.dir.stream,o.contents={}):Ur.isFile(o.mode)?(o.node_ops=Br.ops_table.file.node,o.stream_ops=Br.ops_table.file.stream,o.usedBytes=0,o.contents=null):Ur.isLink(o.mode)?(o.node_ops=Br.ops_table.link.node,o.stream_ops=Br.ops_table.link.stream):Ur.isChrdev(o.mode)&&(o.node_ops=Br.ops_table.chrdev.node,o.stream_ops=Br.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[r]=o),o},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var r=[],t=0;t<e.usedBytes;++t)r.push(e.contents[t]);return r}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){r=Math.max(r,t*(t<1048576?2:1.125)|0),0!=t&&(r=Math.max(r,256));var n=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r){if(0==r)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var t=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(r)),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),void(e.usedBytes=r)}if(e.contents||(e.contents=[]),e.contents.length>r)e.contents.length=r;else for(;e.contents.length<r;)e.contents.push(0);e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=Ur.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,Ur.isDir(e.mode)?r.size=4096:Ur.isFile(e.mode)?r.size=e.usedBytes:Ur.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&Br.resizeFileStorage(e,r.size)},lookup:function(e,r){throw Ur.genericErrors[2]},mknod:function(e,r,t,n){return Br.createNode(e,r,t,n)},rename:function(e,r,t){if(Ur.isDir(e.mode)){var n;try{n=Ur.lookupNode(r,t)}catch(e){}if(n)for(var o in n.contents)throw new Ur.ErrnoError(39)}delete e.parent.contents[e.name],e.name=t,r.contents[t]=e,e.parent=r},unlink:function(e,r){delete e.contents[r]},rmdir:function(e,r){var t=Ur.lookupNode(e,r);for(var n in t.contents)throw new Ur.ErrnoError(39);delete e.contents[r]},readdir:function(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,r,t){var n=Br.createNode(e,r,41471,0);return n.link=t,n},readlink:function(e){if(!Ur.isLink(e.mode))throw new Ur.ErrnoError(22);return e.link}},stream_ops:{read:function(e,r,t,n,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,n);if(a>8&&i.subarray)r.set(i.subarray(o,o+a),t);else for(var u=0;u<a;u++)r[t+u]=i[o+u];return a},write:function(e,r,t,n,o,i){if(!1,!n)return 0;var a=e.node;if(a.timestamp=Date.now(),r.subarray&&(!a.contents||a.contents.subarray)){if(0)return a.contents=r.subarray(t,t+n),a.usedBytes=n,n;if(0===a.usedBytes&&0===o)return a.contents=new Uint8Array(r.subarray(t,t+n)),a.usedBytes=n,n;if(o+n<=a.usedBytes)return a.contents.set(r.subarray(t,t+n),o),n}if(Br.expandFileStorage(a,o+n),a.contents.subarray&&r.subarray)a.contents.set(r.subarray(t,t+n),o);else for(var u=0;u<n;u++)a.contents[o+u]=r[t+u];return a.usedBytes=Math.max(a.usedBytes,o+n),n},llseek:function(e,r,t){var n=r;if(1===t?n+=e.position:2===t&&Ur.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new Ur.ErrnoError(22);return n},allocate:function(e,r,t){Br.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,o,i,a){if(!Ur.isFile(e.node.mode))throw new Ur.ErrnoError(19);var u,s,c=e.node.contents;if(2&a||c.buffer!==r&&c.buffer!==r.buffer){if((o>0||o+n<e.node.usedBytes)&&(c=c.subarray?c.subarray(o,o+n):Array.prototype.slice.call(c,o,o+n)),s=!0,!(u=ts(n)))throw new Ur.ErrnoError(12);r.set(c,u)}else s=!1,u=c.byteOffset;return{ptr:u,allocated:s}},msync:function(e,r,t,n,o){if(!Ur.isFile(e.node.mode))throw new Ur.ErrnoError(19);if(2&o)return 0;Br.stream_ops.write(e,r,0,n,t,!1);return 0}}},Ir={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),R(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return Br.mount.apply(null,arguments)},syncfs:function(e,r,t){Ir.getLocalSet(e,(function(n,o){if(n)return t(n);Ir.getRemoteSet(e,(function(e,n){if(e)return t(e);var i=r?n:o,a=r?o:n;Ir.reconcile(i,a,t)}))}))},getDB:function(e,r){var t,n=Ir.dbs[e];if(n)return r(null,n);try{t=Ir.indexedDB().open(e,Ir.DB_VERSION)}catch(e){return r(e)}if(!t)return r("Unable to connect to IndexedDB");t.onupgradeneeded=function(e){var r,t=e.target.result,n=e.target.transaction;(r=t.objectStoreNames.contains(Ir.DB_STORE_NAME)?n.objectStore(Ir.DB_STORE_NAME):t.createObjectStore(Ir.DB_STORE_NAME)).indexNames.contains("timestamp")||r.createIndex("timestamp","timestamp",{unique:!1})},t.onsuccess=function(){n=t.result,Ir.dbs[e]=n,r(null,n)},t.onerror=function(e){r(this.error),e.preventDefault()}},getLocalSet:function(e,r){var t={};function n(e){return"."!==e&&".."!==e}function o(e){return function(r){return Rr.join2(e,r)}}for(var i=Ur.readdir(e.mountpoint).filter(n).map(o(e.mountpoint));i.length;){var a,u=i.pop();try{a=Ur.stat(u)}catch(e){return r(e)}Ur.isDir(a.mode)&&i.push.apply(i,Ur.readdir(u).filter(n).map(o(u))),t[u]={timestamp:a.mtime}}return r(null,{type:"local",entries:t})},getRemoteSet:function(e,r){var t={};Ir.getDB(e.mountpoint,(function(e,n){if(e)return r(e);try{var o=n.transaction([Ir.DB_STORE_NAME],"readonly");o.onerror=function(e){r(this.error),e.preventDefault()},o.objectStore(Ir.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var o=e.target.result;if(!o)return r(null,{type:"remote",db:n,entries:t});t[o.primaryKey]={timestamp:o.key},o.continue()}}catch(e){return r(e)}}))},loadLocalEntry:function(e,r){var t,n;try{n=Ur.lookupPath(e).node,t=Ur.stat(e)}catch(e){return r(e)}return Ur.isDir(t.mode)?r(null,{timestamp:t.mtime,mode:t.mode}):Ur.isFile(t.mode)?(n.contents=Br.getFileDataAsTypedArray(n),r(null,{timestamp:t.mtime,mode:t.mode,contents:n.contents})):r(new Error("node type not supported"))},storeLocalEntry:function(e,r,t){try{if(Ur.isDir(r.mode))Ur.mkdir(e,r.mode);else{if(!Ur.isFile(r.mode))return t(new Error("node type not supported"));Ur.writeFile(e,r.contents,{canOwn:!0})}Ur.chmod(e,r.mode),Ur.utime(e,r.timestamp,r.timestamp)}catch(e){return t(e)}t(null)},removeLocalEntry:function(e,r){try{Ur.lookupPath(e);var t=Ur.stat(e);Ur.isDir(t.mode)?Ur.rmdir(e):Ur.isFile(t.mode)&&Ur.unlink(e)}catch(e){return r(e)}r(null)},loadRemoteEntry:function(e,r,t){var n=e.get(r);n.onsuccess=function(e){t(null,e.target.result)},n.onerror=function(e){t(this.error),e.preventDefault()}},storeRemoteEntry:function(e,r,t,n){var o=e.put(t,r);o.onsuccess=function(){n(null)},o.onerror=function(e){n(this.error),e.preventDefault()}},removeRemoteEntry:function(e,r,t){var n=e.delete(r);n.onsuccess=function(){t(null)},n.onerror=function(e){t(this.error),e.preventDefault()}},reconcile:function(e,r,t){var n=0,o=[];Object.keys(e.entries).forEach((function(t){var i=e.entries[t],a=r.entries[t];(!a||i.timestamp>a.timestamp)&&(o.push(t),n++)}));var i=[];if(Object.keys(r.entries).forEach((function(t){r.entries[t];e.entries[t]||(i.push(t),n++)})),!n)return t(null);var a=0,u=("remote"===e.type?e.db:r.db).transaction([Ir.DB_STORE_NAME],"readwrite"),s=u.objectStore(Ir.DB_STORE_NAME);function c(e){return e?c.errored?void 0:(c.errored=!0,t(e)):++a>=n?t(null):void 0}u.onerror=function(e){c(this.error),e.preventDefault()},o.sort().forEach((function(e){"local"===r.type?Ir.loadRemoteEntry(s,e,(function(r,t){if(r)return c(r);Ir.storeLocalEntry(e,t,c)})):Ir.loadLocalEntry(e,(function(r,t){if(r)return c(r);Ir.storeRemoteEntry(s,e,t,c)}))})),i.sort().reverse().forEach((function(e){"local"===r.type?Ir.removeLocalEntry(e,c):Ir.removeRemoteEntry(s,e,c)}))}},Or={isWindows:!1,staticInit:function(){Or.isWindows=!!process.platform.match(/^win/);var e=process.binding("constants");e.fs&&(e=e.fs),Or.flagsForNodeMap={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY}},bufferFrom:function(e){return Buffer.alloc?Buffer.from(e):new Buffer(e)},mount:function(e){return R(f),Or.createNode(null,"/",Or.getMode(e.opts.root),0)},createNode:function(e,r,t,n){if(!Ur.isDir(t)&&!Ur.isFile(t)&&!Ur.isLink(t))throw new Ur.ErrnoError(22);var o=Ur.createNode(e,r,t);return o.node_ops=Or.node_ops,o.stream_ops=Or.stream_ops,o},getMode:function(e){var r;try{r=Bu.lstatSync(e),Or.isWindows&&(r.mode=r.mode|(292&r.mode)>>2)}catch(e){if(!e.code)throw e;throw new Ur.ErrnoError(-e.errno)}return r.mode},realPath:function(e){for(var r=[];e.parent!==e;)r.push(e.name),e=e.parent;return r.push(e.mount.opts.root),r.reverse(),Rr.join.apply(null,r)},flagsForNode:function(e){e&=-2097153,e&=-2049,e&=-32769,e&=-524289;var r=0;for(var t in Or.flagsForNodeMap)e&t&&(r|=Or.flagsForNodeMap[t],e^=t);if(e)throw new Ur.ErrnoError(22);return r},node_ops:{getattr:function(e){var r,t=Or.realPath(e);try{r=Bu.lstatSync(t)}catch(e){if(!e.code)throw e;throw new Ur.ErrnoError(-e.errno)}return Or.isWindows&&!r.blksize&&(r.blksize=4096),Or.isWindows&&!r.blocks&&(r.blocks=(r.size+r.blksize-1)/r.blksize|0),{dev:r.dev,ino:r.ino,mode:r.mode,nlink:r.nlink,uid:r.uid,gid:r.gid,rdev:r.rdev,size:r.size,atime:r.atime,mtime:r.mtime,ctime:r.ctime,blksize:r.blksize,blocks:r.blocks}},setattr:function(e,r){var t=Or.realPath(e);try{if(void 0!==r.mode&&(Bu.chmodSync(t,r.mode),e.mode=r.mode),void 0!==r.timestamp){var n=new Date(r.timestamp);Bu.utimesSync(t,n,n)}void 0!==r.size&&Bu.truncateSync(t,r.size)}catch(e){if(!e.code)throw e;throw new Ur.ErrnoError(-e.errno)}},lookup:function(e,r){var t=Rr.join2(Or.realPath(e),r),n=Or.getMode(t);return Or.createNode(e,r,n)},mknod:function(e,r,t,n){var o=Or.createNode(e,r,t,n),i=Or.realPath(o);try{Ur.isDir(o.mode)?Bu.mkdirSync(i,o.mode):Bu.writeFileSync(i,"",{mode:o.mode})}catch(e){if(!e.code)throw e;throw new Ur.ErrnoError(-e.errno)}return o},rename:function(e,r,t){var n=Or.realPath(e),o=Rr.join2(Or.realPath(r),t);try{Bu.renameSync(n,o)}catch(e){if(!e.code)throw e;throw new Ur.ErrnoError(-e.errno)}},unlink:function(e,r){var t=Rr.join2(Or.realPath(e),r);try{Bu.unlinkSync(t)}catch(e){if(!e.code)throw e;throw new Ur.ErrnoError(-e.errno)}},rmdir:function(e,r){var t=Rr.join2(Or.realPath(e),r);try{Bu.rmdirSync(t)}catch(e){if(!e.code)throw e;throw new Ur.ErrnoError(-e.errno)}},readdir:function(e){var r=Or.realPath(e);try{return Bu.readdirSync(r)}catch(e){if(!e.code)throw e;throw new Ur.ErrnoError(-e.errno)}},symlink:function(e,r,t){var n=Rr.join2(Or.realPath(e),r);try{Bu.symlinkSync(t,n)}catch(e){if(!e.code)throw e;throw new Ur.ErrnoError(-e.errno)}},readlink:function(e){var r=Or.realPath(e);try{return r=Bu.readlinkSync(r),r=Iu.relative(Iu.resolve(e.mount.opts.root),r)}catch(e){if(!e.code)throw e;throw new Ur.ErrnoError(-e.errno)}}},stream_ops:{open:function(e){var r=Or.realPath(e.node);try{Ur.isFile(e.node.mode)&&(e.nfd=Bu.openSync(r,Or.flagsForNode(e.flags)))}catch(e){if(!e.code)throw e;throw new Ur.ErrnoError(-e.errno)}},close:function(e){try{Ur.isFile(e.node.mode)&&e.nfd&&Bu.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new Ur.ErrnoError(-e.errno)}},read:function(e,r,t,n,o){if(0===n)return 0;try{return Bu.readSync(e.nfd,Or.bufferFrom(r.buffer),t,n,o)}catch(e){throw new Ur.ErrnoError(-e.errno)}},write:function(e,r,t,n,o){try{return Bu.writeSync(e.nfd,Or.bufferFrom(r.buffer),t,n,o)}catch(e){throw new Ur.ErrnoError(-e.errno)}},llseek:function(e,r,t){var n=r;if(1===t)n+=e.position;else if(2===t&&Ur.isFile(e.node.mode))try{n+=Bu.fstatSync(e.nfd).size}catch(e){throw new Ur.ErrnoError(-e.errno)}if(n<0)throw new Ur.ErrnoError(22);return n}}},Nr={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){R(c),Nr.reader||(Nr.reader=new FileReaderSync);var r=Nr.createNode(null,"/",Nr.DIR_MODE,0),t={};function n(e){for(var n=e.split("/"),o=r,i=0;i<n.length-1;i++){var a=n.slice(0,i+1).join("/");t[a]||(t[a]=Nr.createNode(o,n[i],Nr.DIR_MODE,0)),o=t[a]}return o}function o(e){var r=e.split("/");return r[r.length-1]}return Array.prototype.forEach.call(e.opts.files||[],(function(e){Nr.createNode(n(e.name),o(e.name),Nr.FILE_MODE,0,e,e.lastModifiedDate)})),(e.opts.blobs||[]).forEach((function(e){Nr.createNode(n(e.name),o(e.name),Nr.FILE_MODE,0,e.data)})),(e.opts.packages||[]).forEach((function(e){e.metadata.files.forEach((function(r){var t=r.filename.substr(1);Nr.createNode(n(t),o(t),Nr.FILE_MODE,0,e.blob.slice(r.start,r.end))}))})),r},createNode:function(e,r,t,n,o,i){var a=Ur.createNode(e,r,t);return a.mode=t,a.node_ops=Nr.node_ops,a.stream_ops=Nr.stream_ops,a.timestamp=(i||new Date).getTime(),R(Nr.FILE_MODE!==Nr.DIR_MODE),t===Nr.FILE_MODE?(a.size=o.size,a.contents=o):(a.size=4096,a.contents={}),e&&(e.contents[r]=a),a},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp)},lookup:function(e,r){throw new Ur.ErrnoError(2)},mknod:function(e,r,t,n){throw new Ur.ErrnoError(1)},rename:function(e,r,t){throw new Ur.ErrnoError(1)},unlink:function(e,r){throw new Ur.ErrnoError(1)},rmdir:function(e,r){throw new Ur.ErrnoError(1)},readdir:function(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,r,t){throw new Ur.ErrnoError(1)},readlink:function(e){throw new Ur.ErrnoError(1)}},stream_ops:{read:function(e,r,t,n,o){if(o>=e.node.size)return 0;var i=e.node.contents.slice(o,o+n),a=Nr.reader.readAsArrayBuffer(i);return r.set(new Uint8Array(a),t),i.size},write:function(e,r,t,n,o){throw new Ur.ErrnoError(5)},llseek:function(e,r,t){var n=r;if(1===t?n+=e.position:2===t&&Ur.isFile(e.node.mode)&&(n+=e.node.size),n<0)throw new Ur.ErrnoError(22);return n}}},Ur={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof Ur.ErrnoError))throw e+" : "+K();return Tr(e.errno)},lookupPath:function(e,r){if(r=r||{},!(e=Mr.resolve(Ur.cwd(),e)))return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};for(var n in t)void 0===r[n]&&(r[n]=t[n]);if(r.recurse_count>8)throw new Ur.ErrnoError(40);for(var o=Rr.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),i=Ur.root,a="/",u=0;u<o.length;u++){var s=u===o.length-1;if(s&&r.parent)break;if(i=Ur.lookupNode(i,o[u]),a=Rr.join2(a,o[u]),Ur.isMountpoint(i)&&(!s||s&&r.follow_mount)&&(i=i.mounted.root),!s||r.follow)for(var c=0;Ur.isLink(i.mode);){var l=Ur.readlink(a);if(a=Mr.resolve(Rr.dirname(a),l),i=Ur.lookupPath(a,{recurse_count:r.recurse_count}).node,c++>40)throw new Ur.ErrnoError(40)}}return{path:a,node:i}},getPath:function(e){for(var r;;){if(Ur.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%Ur.nameTable.length},hashAddNode:function(e){var r=Ur.hashName(e.parent.id,e.name);e.name_next=Ur.nameTable[r],Ur.nameTable[r]=e},hashRemoveNode:function(e){var r=Ur.hashName(e.parent.id,e.name);if(Ur.nameTable[r]===e)Ur.nameTable[r]=e.name_next;else for(var t=Ur.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:function(e,r){var t=Ur.mayLookup(e);if(t)throw new Ur.ErrnoError(t,e);for(var n=Ur.hashName(e.id,r),o=Ur.nameTable[n];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===r)return o}return Ur.lookup(e,r)},createNode:function(e,r,t,n){if(!Ur.FSNode){Ur.FSNode=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ur.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n},Ur.FSNode.prototype={};var o=365,i=146;Object.defineProperties(Ur.FSNode.prototype,{read:{get:function(){return(this.mode&o)===o},set:function(e){e?this.mode|=o:this.mode&=-366}},write:{get:function(){return(this.mode&i)===i},set:function(e){e?this.mode|=i:this.mode&=-147}},isFolder:{get:function(){return Ur.isDir(this.mode)}},isDevice:{get:function(){return Ur.isChrdev(this.mode)}}})}var a=new Ur.FSNode(e,r,t,n);return Ur.hashAddNode(a),a},destroyNode:function(e){Ur.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var r=Ur.flagModes[e];if(void 0===r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return Ur.ignorePermissions||(-1===r.indexOf("r")||292&e.mode)&&(-1===r.indexOf("w")||146&e.mode)&&(-1===r.indexOf("x")||73&e.mode)?0:13},mayLookup:function(e){var r=Ur.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:13)},mayCreate:function(e,r){try{Ur.lookupNode(e,r);return 17}catch(e){}return Ur.nodePermissions(e,"wx")},mayDelete:function(e,r,t){var n;try{n=Ur.lookupNode(e,r)}catch(e){return e.errno}var o=Ur.nodePermissions(e,"wx");if(o)return o;if(t){if(!Ur.isDir(n.mode))return 20;if(Ur.isRoot(n)||Ur.getPath(n)===Ur.cwd())return 16}else if(Ur.isDir(n.mode))return 21;return 0},mayOpen:function(e,r){return e?Ur.isLink(e.mode)?40:Ur.isDir(e.mode)&&("r"!==Ur.flagsToPermissionString(r)||512&r)?21:Ur.nodePermissions(e,Ur.flagsToPermissionString(r)):2},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||Ur.MAX_OPEN_FDS;for(var t=e;t<=r;t++)if(!Ur.streams[t])return t;throw new Ur.ErrnoError(24)},getStream:function(e){return Ur.streams[e]},createStream:function(e,r,t){Ur.FSStream||(Ur.FSStream=function(){},Ur.FSStream.prototype={},Object.defineProperties(Ur.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var n=new Ur.FSStream;for(var o in e)n[o]=e[o];e=n;var i=Ur.nextfd(r,t);return e.fd=i,Ur.streams[i]=e,e},closeStream:function(e){Ur.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=Ur.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ur.ErrnoError(29)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){Ur.devices[e]={stream_ops:r}},getDevice:function(e){return Ur.devices[e]},getMounts:function(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:function(e,r){"function"==typeof e&&(r=e,e=!1),Ur.syncFSRequests++,Ur.syncFSRequests;var t=Ur.getMounts(Ur.root.mount),n=0;function o(e){return Ur.syncFSRequests--,r(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++n>=t.length&&o(null)}t.forEach((function(r){if(!r.type.syncfs)return i(null);r.type.syncfs(r,e,i)}))},mount:function(e,r,t){var n,o="/"===t,i=!t;if(o&&Ur.root)throw new Ur.ErrnoError(16);if(!o&&!i){var a=Ur.lookupPath(t,{follow_mount:!1});if(t=a.path,n=a.node,Ur.isMountpoint(n))throw new Ur.ErrnoError(16);if(!Ur.isDir(n.mode))throw new Ur.ErrnoError(20)}var u={type:e,opts:r,mountpoint:t,mounts:[]},s=e.mount(u);return s.mount=u,u.root=s,o?Ur.root=s:n&&(n.mounted=u,n.mount&&n.mount.mounts.push(u)),s},unmount:function(e){var r=Ur.lookupPath(e,{follow_mount:!1});if(!Ur.isMountpoint(r.node))throw new Ur.ErrnoError(22);var t=r.node,n=t.mounted,o=Ur.getMounts(n);Object.keys(Ur.nameTable).forEach((function(e){for(var r=Ur.nameTable[e];r;){var t=r.name_next;-1!==o.indexOf(r.mount)&&Ur.destroyNode(r),r=t}})),t.mounted=null;var i=t.mount.mounts.indexOf(n);t.mount.mounts.splice(i,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,t){var n=Ur.lookupPath(e,{parent:!0}).node,o=Rr.basename(e);if(!o||"."===o||".."===o)throw new Ur.ErrnoError(22);var i=Ur.mayCreate(n,o);if(i)throw new Ur.ErrnoError(i);if(!n.node_ops.mknod)throw new Ur.ErrnoError(1);return n.node_ops.mknod(n,o,r,t)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,Ur.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,Ur.mknod(e,r,0)},mkdirTree:function(e,r){for(var t=e.split("/"),n="",o=0;o<t.length;++o)if(t[o]){n+="/"+t[o];try{Ur.mkdir(n,r)}catch(e){if(17!=e.errno)throw e}}},mkdev:function(e,r,t){return void 0===t&&(t=r,r=438),r|=8192,Ur.mknod(e,r,t)},symlink:function(e,r){if(!Mr.resolve(e))throw new Ur.ErrnoError(2);var t=Ur.lookupPath(r,{parent:!0}).node;if(!t)throw new Ur.ErrnoError(2);var n=Rr.basename(r),o=Ur.mayCreate(t,n);if(o)throw new Ur.ErrnoError(o);if(!t.node_ops.symlink)throw new Ur.ErrnoError(1);return t.node_ops.symlink(t,n,e)},rename:function(e,r){var t,n,o=Rr.dirname(e),i=Rr.dirname(r),a=Rr.basename(e),u=Rr.basename(r);try{t=Ur.lookupPath(e,{parent:!0}).node,n=Ur.lookupPath(r,{parent:!0}).node}catch(e){throw new Ur.ErrnoError(16)}if(!t||!n)throw new Ur.ErrnoError(2);if(t.mount!==n.mount)throw new Ur.ErrnoError(18);var s,c=Ur.lookupNode(t,a),l=Mr.relative(e,i);if("."!==l.charAt(0))throw new Ur.ErrnoError(22);if("."!==(l=Mr.relative(r,o)).charAt(0))throw new Ur.ErrnoError(39);try{s=Ur.lookupNode(n,u)}catch(e){}if(c!==s){var f=Ur.isDir(c.mode),m=Ur.mayDelete(t,a,f);if(m)throw new Ur.ErrnoError(m);if(m=s?Ur.mayDelete(n,u,f):Ur.mayCreate(n,u))throw new Ur.ErrnoError(m);if(!t.node_ops.rename)throw new Ur.ErrnoError(1);if(Ur.isMountpoint(c)||s&&Ur.isMountpoint(s))throw new Ur.ErrnoError(16);if(n!==t&&(m=Ur.nodePermissions(t,"w")))throw new Ur.ErrnoError(m);try{Ur.trackingDelegate.willMovePath&&Ur.trackingDelegate.willMovePath(e,r)}catch(e){}Ur.hashRemoveNode(c);try{t.node_ops.rename(c,n,u)}catch(e){throw e}finally{Ur.hashAddNode(c)}try{Ur.trackingDelegate.onMovePath&&Ur.trackingDelegate.onMovePath(e,r)}catch(e){}}},rmdir:function(e){var r=Ur.lookupPath(e,{parent:!0}).node,t=Rr.basename(e),n=Ur.lookupNode(r,t),o=Ur.mayDelete(r,t,!0);if(o)throw new Ur.ErrnoError(o);if(!r.node_ops.rmdir)throw new Ur.ErrnoError(1);if(Ur.isMountpoint(n))throw new Ur.ErrnoError(16);try{Ur.trackingDelegate.willDeletePath&&Ur.trackingDelegate.willDeletePath(e)}catch(e){}r.node_ops.rmdir(r,t),Ur.destroyNode(n);try{Ur.trackingDelegate.onDeletePath&&Ur.trackingDelegate.onDeletePath(e)}catch(e){}},readdir:function(e){var r=Ur.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new Ur.ErrnoError(20);return r.node_ops.readdir(r)},unlink:function(e){var r=Ur.lookupPath(e,{parent:!0}).node,t=Rr.basename(e),n=Ur.lookupNode(r,t),o=Ur.mayDelete(r,t,!1);if(o)throw new Ur.ErrnoError(o);if(!r.node_ops.unlink)throw new Ur.ErrnoError(1);if(Ur.isMountpoint(n))throw new Ur.ErrnoError(16);try{Ur.trackingDelegate.willDeletePath&&Ur.trackingDelegate.willDeletePath(e)}catch(e){}r.node_ops.unlink(r,t),Ur.destroyNode(n);try{Ur.trackingDelegate.onDeletePath&&Ur.trackingDelegate.onDeletePath(e)}catch(e){}},readlink:function(e){var r=Ur.lookupPath(e).node;if(!r)throw new Ur.ErrnoError(2);if(!r.node_ops.readlink)throw new Ur.ErrnoError(22);return Mr.resolve(Ur.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,r){var t=Ur.lookupPath(e,{follow:!r}).node;if(!t)throw new Ur.ErrnoError(2);if(!t.node_ops.getattr)throw new Ur.ErrnoError(1);return t.node_ops.getattr(t)},lstat:function(e){return Ur.stat(e,!0)},chmod:function(e,r,t){var n;"string"==typeof e?n=Ur.lookupPath(e,{follow:!t}).node:n=e;if(!n.node_ops.setattr)throw new Ur.ErrnoError(1);n.node_ops.setattr(n,{mode:4095&r|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,r){Ur.chmod(e,r,!0)},fchmod:function(e,r){var t=Ur.getStream(e);if(!t)throw new Ur.ErrnoError(9);Ur.chmod(t.node,r)},chown:function(e,r,t,n){var o;"string"==typeof e?o=Ur.lookupPath(e,{follow:!n}).node:o=e;if(!o.node_ops.setattr)throw new Ur.ErrnoError(1);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,r,t){Ur.chown(e,r,t,!0)},fchown:function(e,r,t){var n=Ur.getStream(e);if(!n)throw new Ur.ErrnoError(9);Ur.chown(n.node,r,t)},truncate:function(e,r){if(r<0)throw new Ur.ErrnoError(22);var t;"string"==typeof e?t=Ur.lookupPath(e,{follow:!0}).node:t=e;if(!t.node_ops.setattr)throw new Ur.ErrnoError(1);if(Ur.isDir(t.mode))throw new Ur.ErrnoError(21);if(!Ur.isFile(t.mode))throw new Ur.ErrnoError(22);var n=Ur.nodePermissions(t,"w");if(n)throw new Ur.ErrnoError(n);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var t=Ur.getStream(e);if(!t)throw new Ur.ErrnoError(9);if(0==(2097155&t.flags))throw new Ur.ErrnoError(22);Ur.truncate(t.node,r)},utime:function(e,r,t){var n=Ur.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(r,t)})},open:function(e,r,t,n,o){if(""===e)throw new Ur.ErrnoError(2);var i;if(t=void 0===t?438:t,t=64&(r="string"==typeof r?Ur.modeStringToFlags(r):r)?4095&t|32768:0,"object"==typeof e)i=e;else{e=Rr.normalize(e);try{i=Ur.lookupPath(e,{follow:!(131072&r)}).node}catch(e){}}var u=!1;if(64&r)if(i){if(128&r)throw new Ur.ErrnoError(17)}else i=Ur.mknod(e,t,0),u=!0;if(!i)throw new Ur.ErrnoError(2);if(Ur.isChrdev(i.mode)&&(r&=-513),65536&r&&!Ur.isDir(i.mode))throw new Ur.ErrnoError(20);if(!u){var s=Ur.mayOpen(i,r);if(s)throw new Ur.ErrnoError(s)}512&r&&Ur.truncate(i,0),r&=-641;var c=Ur.createStream({node:i,path:Ur.getPath(i),flags:r,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1},n,o);c.stream_ops.open&&c.stream_ops.open(c),!a.logReadFiles||1&r||(Ur.readFiles||(Ur.readFiles={}),e in Ur.readFiles||(Ur.readFiles[e]=1));try{if(Ur.trackingDelegate.onOpenFile){var l=0;1!=(2097155&r)&&(l|=Ur.tracking.openFlags.READ),0!=(2097155&r)&&(l|=Ur.tracking.openFlags.WRITE),Ur.trackingDelegate.onOpenFile(e,l)}}catch(e){}return c},close:function(e){if(Ur.isClosed(e))throw new Ur.ErrnoError(9);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ur.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,t){if(Ur.isClosed(e))throw new Ur.ErrnoError(9);if(!e.seekable||!e.stream_ops.llseek)throw new Ur.ErrnoError(29);if(0!=t&&1!=t&&2!=t)throw new Ur.ErrnoError(22);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:function(e,r,t,n,o){if(n<0||o<0)throw new Ur.ErrnoError(22);if(Ur.isClosed(e))throw new Ur.ErrnoError(9);if(1==(2097155&e.flags))throw new Ur.ErrnoError(9);if(Ur.isDir(e.node.mode))throw new Ur.ErrnoError(21);if(!e.stream_ops.read)throw new Ur.ErrnoError(22);var i=void 0!==o;if(i){if(!e.seekable)throw new Ur.ErrnoError(29)}else o=e.position;var a=e.stream_ops.read(e,r,t,n,o);return i||(e.position+=a),a},write:function(e,r,t,n,o,i){if(n<0||o<0)throw new Ur.ErrnoError(22);if(Ur.isClosed(e))throw new Ur.ErrnoError(9);if(0==(2097155&e.flags))throw new Ur.ErrnoError(9);if(Ur.isDir(e.node.mode))throw new Ur.ErrnoError(21);if(!e.stream_ops.write)throw new Ur.ErrnoError(22);1024&e.flags&&Ur.llseek(e,0,2);var a=void 0!==o;if(a){if(!e.seekable)throw new Ur.ErrnoError(29)}else o=e.position;var u=e.stream_ops.write(e,r,t,n,o,i);a||(e.position+=u);try{e.path&&Ur.trackingDelegate.onWriteToFile&&Ur.trackingDelegate.onWriteToFile(e.path)}catch(e){}return u},allocate:function(e,r,t){if(Ur.isClosed(e))throw new Ur.ErrnoError(9);if(r<0||t<=0)throw new Ur.ErrnoError(22);if(0==(2097155&e.flags))throw new Ur.ErrnoError(9);if(!Ur.isFile(e.node.mode)&&!Ur.isDir(e.node.mode))throw new Ur.ErrnoError(19);if(!e.stream_ops.allocate)throw new Ur.ErrnoError(95);e.stream_ops.allocate(e,r,t)},mmap:function(e,r,t,n,o,i,a){if(1==(2097155&e.flags))throw new Ur.ErrnoError(13);if(!e.stream_ops.mmap)throw new Ur.ErrnoError(19);return e.stream_ops.mmap(e,r,t,n,o,i,a)},msync:function(e,r,t,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,o):0},munmap:function(e){return 0},ioctl:function(e,r,t){if(!e.stream_ops.ioctl)throw new Ur.ErrnoError(25);return e.stream_ops.ioctl(e,r,t)},readFile:function(e,r){if((r=r||{}).flags=r.flags||"r",r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var t,n=Ur.open(e,r.flags),o=Ur.stat(e).size,i=new Uint8Array(o);return Ur.read(n,i,0,o,0),"utf8"===r.encoding?t=j(i,0):"binary"===r.encoding&&(t=i),Ur.close(n),t},writeFile:function(e,r,t){(t=t||{}).flags=t.flags||"w";var n=Ur.open(e,t.flags,t.mode);if("string"==typeof r){var o=new Uint8Array(W(r)+1),i=z(r,o,0,o.length);Ur.write(n,o,0,i,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");Ur.write(n,r,0,r.byteLength,void 0,t.canOwn)}Ur.close(n)},cwd:function(){return Ur.currentPath},chdir:function(e){var r=Ur.lookupPath(e,{follow:!0});if(null===r.node)throw new Ur.ErrnoError(2);if(!Ur.isDir(r.node.mode))throw new Ur.ErrnoError(20);var t=Ur.nodePermissions(r.node,"x");if(t)throw new Ur.ErrnoError(t);Ur.currentPath=r.path},createDefaultDirectories:function(){Ur.mkdir("/tmp"),Ur.mkdir("/home"),Ur.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(Ur.mkdir("/dev"),Ur.registerDevice(Ur.makedev(1,3),{read:function(){return 0},write:function(e,r,t,n,o){return n}}),Ur.mkdev("/dev/null",Ur.makedev(1,3)),Pr.register(Ur.makedev(5,0),Pr.default_tty_ops),Pr.register(Ur.makedev(6,0),Pr.default_tty1_ops),Ur.mkdev("/dev/tty",Ur.makedev(5,0)),Ur.mkdev("/dev/tty1",Ur.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var r=new Uint8Array(1);e=function(){return crypto.getRandomValues(r),r[0]}}else if(l)try{var t=require("crypto");e=function(){return t.randomBytes(1)[0]}}catch(e){}e||(e=function(){ys("random_device")}),Ur.createDevice("/dev","random",e),Ur.createDevice("/dev","urandom",e),Ur.mkdir("/dev/shm"),Ur.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ur.mkdir("/proc"),Ur.mkdir("/proc/self"),Ur.mkdir("/proc/self/fd"),Ur.mount({mount:function(){var e=Ur.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,r){var t=+r,n=Ur.getStream(t);if(!n)throw new Ur.ErrnoError(9);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return o.parent=o,o}},e}},{},"/proc/self/fd")},createStandardStreams:function(){a.stdin?Ur.createDevice("/dev","stdin",a.stdin):Ur.symlink("/dev/tty","/dev/stdin"),a.stdout?Ur.createDevice("/dev","stdout",null,a.stdout):Ur.symlink("/dev/tty","/dev/stdout"),a.stderr?Ur.createDevice("/dev","stderr",null,a.stderr):Ur.symlink("/dev/tty1","/dev/stderr");Ur.open("/dev/stdin","r"),Ur.open("/dev/stdout","w"),Ur.open("/dev/stderr","w")},ensureErrnoError:function(){Ur.ErrnoError||(Ur.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error",this.stack&&Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0})},Ur.ErrnoError.prototype=new Error,Ur.ErrnoError.prototype.constructor=Ur.ErrnoError,[2].forEach((function(e){Ur.genericErrors[e]=new Ur.ErrnoError(e),Ur.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ur.ensureErrnoError(),Ur.nameTable=new Array(4096),Ur.mount(Br,{},"/"),Ur.createDefaultDirectories(),Ur.createDefaultDevices(),Ur.createSpecialDirectories(),Ur.filesystems={MEMFS:Br,IDBFS:Ir,NODEFS:Or,WORKERFS:Nr}},init:function(e,r,t){Ur.init.initialized=!0,Ur.ensureErrnoError(),a.stdin=e||a.stdin,a.stdout=r||a.stdout,a.stderr=t||a.stderr,Ur.createStandardStreams()},quit:function(){Ur.init.initialized=!1;var e=a._fflush;e&&e(0);for(var r=0;r<Ur.streams.length;r++){var t=Ur.streams[r];t&&Ur.close(t)}},getMode:function(e,r){var t=0;return e&&(t|=365),r&&(t|=146),t},joinPath:function(e,r){var t=Rr.join.apply(null,e);return r&&"/"==t[0]&&(t=t.substr(1)),t},absolutePath:function(e,r){return Mr.resolve(r,e)},standardizePath:function(e){return Rr.normalize(e)},findObject:function(e,r){var t=Ur.analyzePath(e,r);return t.exists?t.object:(Tr(t.error),null)},analyzePath:function(e,r){try{e=(n=Ur.lookupPath(e,{follow:!r})).path}catch(e){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Ur.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=Rr.basename(e),n=Ur.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(e){t.error=e.errno}return t},createFolder:function(e,r,t,n){var o=Rr.join2("string"==typeof e?e:Ur.getPath(e),r),i=Ur.getMode(t,n);return Ur.mkdir(o,i)},createPath:function(e,r,t,n){e="string"==typeof e?e:Ur.getPath(e);for(var o=r.split("/").reverse();o.length;){var i=o.pop();if(i){var a=Rr.join2(e,i);try{Ur.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,r,t,n,o){var i=Rr.join2("string"==typeof e?e:Ur.getPath(e),r),a=Ur.getMode(n,o);return Ur.create(i,a)},createDataFile:function(e,r,t,n,o,i){var a=r?Rr.join2("string"==typeof e?e:Ur.getPath(e),r):e,u=Ur.getMode(n,o),s=Ur.create(a,u);if(t){if("string"==typeof t){for(var c=new Array(t.length),l=0,f=t.length;l<f;++l)c[l]=t.charCodeAt(l);t=c}Ur.chmod(s,146|u);var m=Ur.open(s,"w");Ur.write(m,t,0,t.length,0,i),Ur.close(m),Ur.chmod(s,u)}return s},createDevice:function(e,r,t,n){var o=Rr.join2("string"==typeof e?e:Ur.getPath(e),r),i=Ur.getMode(!!t,!!n);Ur.createDevice.major||(Ur.createDevice.major=64);var a=Ur.makedev(Ur.createDevice.major++,0);return Ur.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,r,n,o,i){for(var a=0,u=0;u<o;u++){var s;try{s=t()}catch(e){throw new Ur.ErrnoError(5)}if(void 0===s&&0===a)throw new Ur.ErrnoError(11);if(null==s)break;a++,r[n+u]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,t,o,i){for(var a=0;a<o;a++)try{n(r[t+a])}catch(e){throw new Ur.ErrnoError(5)}return o&&(e.node.timestamp=Date.now()),a}}),Ur.mkdev(o,i,a)},createLink:function(e,r,t,n,o){var i=Rr.join2("string"==typeof e?e:Ur.getPath(e),r);return Ur.symlink(t,i)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var r=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!a.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Nu(a.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){r=!1}return r||Tr(5),r},createLazyFile:function(e,r,t,n,o){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,t=e/this.chunkSize|0;return this.getter(t)[r]}},i.prototype.setDataGetter=function(e){this.getter=e},i.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",t,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+t+". Status: "+e.status);var r,n=Number(e.getResponseHeader("Content-length")),o=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,i=(r=e.getResponseHeader("Content-Encoding"))&&"gzip"===r,a=1048576;o||(a=n);var u=this;u.setDataGetter((function(e){var r=e*a,o=(e+1)*a-1;if(o=Math.min(o,n-1),void 0===u.chunks[e]&&(u.chunks[e]=function(e,r){if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>n-1)throw new Error("only "+n+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",t,!1),n!==a&&o.setRequestHeader("Range","bytes="+e+"-"+r),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+t+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):Nu(o.responseText||"",!0)}(r,o)),void 0===u.chunks[e])throw new Error("doXHR failed!");return u.chunks[e]})),!i&&n||(a=n=1,n=this.getter(0).length,a=n),this._length=n,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!c)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var u={isDevice:!1,contents:a}}else u={isDevice:!1,url:t};var s=Ur.createFile(e,r,u,n,o);u.contents?s.contents=u.contents:u.url&&(s.contents=null,s.url=u.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var l={};return Object.keys(s.stream_ops).forEach((function(e){var r=s.stream_ops[e];l[e]=function(){if(!Ur.forceLoadFile(s))throw new Ur.ErrnoError(5);return r.apply(null,arguments)}})),l.read=function(e,r,t,n,o){if(!Ur.forceLoadFile(s))throw new Ur.ErrnoError(5);var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,n);if(i.slice)for(var u=0;u<a;u++)r[t+u]=i[o+u];else for(u=0;u<a;u++)r[t+u]=i.get(o+u);return a},s.stream_ops=l,s},createPreloadedFile:function(e,r,t,n,o,i,u,s,c,l){Ze.init();var f=r?Mr.resolve(Rr.join2(e,r)):e;function m(t){function m(t){l&&l(),s||Ur.createDataFile(e,r,t,n,o,c),i&&i(),Oe()}var d=!1;a.preloadPlugins.forEach((function(e){d||e.canHandle(f)&&(e.handle(t,f,m,(function(){u&&u(),Oe()})),d=!0)})),d||m(t)}Ie(),"string"==typeof t?Ze.asyncLoad(t,(function(e){m(e)}),u):m(t)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,t){r=r||function(){},t=t||function(){};var n=Ur.indexedDB();try{var o=n.open(Ur.DB_NAME(),Ur.DB_VERSION)}catch(e){return t(e)}o.onupgradeneeded=function(){o.result.createObjectStore(Ur.DB_STORE_NAME)},o.onsuccess=function(){var n=o.result.transaction([Ur.DB_STORE_NAME],"readwrite"),i=n.objectStore(Ur.DB_STORE_NAME),a=0,u=0,s=e.length;function c(){0==u?r():t()}e.forEach((function(e){var r=i.put(Ur.analyzePath(e).object.contents,e);r.onsuccess=function(){++a+u==s&&c()},r.onerror=function(){u++,a+u==s&&c()}})),n.onerror=t},o.onerror=t},loadFilesFromDB:function(e,r,t){r=r||function(){},t=t||function(){};var n=Ur.indexedDB();try{var o=n.open(Ur.DB_NAME(),Ur.DB_VERSION)}catch(e){return t(e)}o.onupgradeneeded=t,o.onsuccess=function(){var n=o.result;try{var i=n.transaction([Ur.DB_STORE_NAME],"readonly")}catch(e){return void t(e)}var a=i.objectStore(Ur.DB_STORE_NAME),u=0,s=0,c=e.length;function l(){0==s?r():t()}e.forEach((function(e){var r=a.get(e);r.onsuccess=function(){Ur.analyzePath(e).exists&&Ur.unlink(e),Ur.createDataFile(Rr.dirname(e),Rr.basename(e),r.result,!0,!0,!0),++u+s==c&&l()},r.onerror=function(){s++,u+s==c&&l()}})),i.onerror=t},o.onerror=t}},jr={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,r){if("/"!==r[0]){var t;if(-100===e)t=Ur.cwd();else{var n=Ur.getStream(e);if(!n)throw new Ur.ErrnoError(9);t=n.path}r=Rr.join2(t,r)}return r},doStat:function(e,r,o){try{var i=e(r)}catch(e){if(e&&e.node&&Rr.normalize(r)!==Rr.normalize(Ur.getPath(e.node)))return-20;throw e}return ne[o>>2]=i.dev,ne[o+4>>2]=0,ne[o+8>>2]=i.ino,ne[o+12>>2]=i.mode,ne[o+16>>2]=i.nlink,ne[o+20>>2]=i.uid,ne[o+24>>2]=i.gid,ne[o+28>>2]=i.rdev,ne[o+32>>2]=0,n=[i.size>>>0,(t=i.size,+Fe(t)>=1?t>0?(0|Te(+Re(t/4294967296),4294967295))>>>0:~~+Le((t-+(~~t>>>0))/4294967296)>>>0:0)],ne[o+40>>2]=n[0],ne[o+44>>2]=n[1],ne[o+48>>2]=4096,ne[o+52>>2]=i.blocks,ne[o+56>>2]=i.atime.getTime()/1e3|0,ne[o+60>>2]=0,ne[o+64>>2]=i.mtime.getTime()/1e3|0,ne[o+68>>2]=0,ne[o+72>>2]=i.ctime.getTime()/1e3|0,ne[o+76>>2]=0,n=[i.ino>>>0,(t=i.ino,+Fe(t)>=1?t>0?(0|Te(+Re(t/4294967296),4294967295))>>>0:~~+Le((t-+(~~t>>>0))/4294967296)>>>0:0)],ne[o+80>>2]=n[0],ne[o+84>>2]=n[1],0},doMsync:function(e,r,t,n){var o=new Uint8Array(ee.subarray(e,e+t));Ur.msync(r,o,0,t,n)},doMkdir:function(e,r){return"/"===(e=Rr.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Ur.mkdir(e,r,0),0},doMknod:function(e,r,t){switch(61440&r){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-22}return Ur.mknod(e,r,t),0},doReadlink:function(e,r,t){if(t<=0)return-22;var n=Ur.readlink(e),o=Math.min(t,W(n)),i=$[r+o];return q(n,r,t+1),$[r+o]=i,o},doAccess:function(e,r){if(-8&r)return-22;var t;t=Ur.lookupPath(e,{follow:!0}).node;var n="";return 4&r&&(n+="r"),2&r&&(n+="w"),1&r&&(n+="x"),n&&Ur.nodePermissions(t,n)?-13:0},doDup:function(e,r,t){var n=Ur.getStream(t);return n&&Ur.close(n),Ur.open(e,r,0,t,t).fd},doReadv:function(e,r,t,n){for(var o=0,i=0;i<t;i++){var a=ne[r+8*i>>2],u=ne[r+(8*i+4)>>2],s=Ur.read(e,$,a,u,n);if(s<0)return-1;if(o+=s,s<u)break}return o},doWritev:function(e,r,t,n){for(var o=0,i=0;i<t;i++){var a=ne[r+8*i>>2],u=ne[r+(8*i+4)>>2],s=Ur.write(e,$,a,u,n);if(s<0)return-1;o+=s}return o},varargs:0,get:function(e){return jr.varargs+=4,ne[jr.varargs-4>>2]},getStr:function(){return G(jr.get())},getStreamFromFD:function(){var e=Ur.getStream(jr.get());if(!e)throw new Ur.ErrnoError(9);return e},get64:function(){var e=jr.get();jr.get();return e},getZero:function(){jr.get()}};function Gr(e,r){jr.varargs=r;try{var t=jr.getStr();return Ur.unlink(t),0}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function zr(e,r){jr.varargs=r;try{var o=jr.getStreamFromFD(),i=jr.get(),a=jr.get(),u=jr.get(),s=jr.get(),c=4294967296*i+(a>>>0),l=9007199254740992;return c<=-l||c>=l?-75:(Ur.llseek(o,c,s),n=[o.position>>>0,(t=o.position,+Fe(t)>=1?t>0?(0|Te(+Re(t/4294967296),4294967295))>>>0:~~+Le((t-+(~~t>>>0))/4294967296)>>>0:0)],ne[u>>2]=n[0],ne[u+4>>2]=n[1],o.getdents&&0===c&&0===s&&(o.getdents=null),0)}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function qr(e,r){jr.varargs=r;try{var t=jr.getStreamFromFD(),n=jr.get(),o=jr.get();return jr.doReadv(t,n,o)}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function Wr(e,r){jr.varargs=r;try{var t=jr.getStreamFromFD(),n=jr.get(),o=jr.get();return jr.doWritev(t,n,o)}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function Xr(e,r){jr.varargs=r;try{var t=jr.get(),n=(jr.getZero(),jr.get64());return Ur.ftruncate(t,n),0}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function Vr(e,r){jr.varargs=r;try{var t=jr.getStr(),n=jr.get();return jr.doStat(Ur.stat,t,n)}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function Hr(e,r){jr.varargs=r;try{var t=jr.getStreamFromFD(),n=jr.get();return jr.doStat(Ur.stat,t.path,n)}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}var Yr={ppid:1,pid:42,sid:42,pgid:42};function Qr(e,r){jr.varargs=r;try{return Yr.pid}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function Zr(e,r){jr.varargs=r;try{var o=jr.getStreamFromFD(),i=jr.get(),a=jr.get();o.getdents||(o.getdents=Ur.readdir(o.path));for(var u=280,s=0,c=Ur.llseek(o,0,1),l=Math.floor(c/u);l<o.getdents.length&&s+u<=a;){var f,m,d=o.getdents[l];if("."===d[0])f=1,m=4;else{var p=Ur.lookupNode(o.node,d);f=p.id,m=Ur.isChrdev(p.mode)?2:Ur.isDir(p.mode)?4:Ur.isLink(p.mode)?10:8}n=[f>>>0,(t=f,+Fe(t)>=1?t>0?(0|Te(+Re(t/4294967296),4294967295))>>>0:~~+Le((t-+(~~t>>>0))/4294967296)>>>0:0)],ne[i+s>>2]=n[0],ne[i+s+4>>2]=n[1],n=[(l+1)*u>>>0,(t=(l+1)*u,+Fe(t)>=1?t>0?(0|Te(+Re(t/4294967296),4294967295))>>>0:~~+Le((t-+(~~t>>>0))/4294967296)>>>0:0)],ne[i+s+8>>2]=n[0],ne[i+s+12>>2]=n[1],re[i+s+16>>1]=280,$[i+s+18>>0]=m,q(d,i+s+19,256),s+=u,l+=1}return Ur.llseek(o,l*u,0),s}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function Kr(e,r){jr.varargs=r;try{var t=jr.getStreamFromFD();switch(jr.get()){case 0:return(n=jr.get())<0?-22:Ur.open(t.path,t.flags,0,n).fd;case 1:case 2:return 0;case 3:return t.flags;case 4:var n=jr.get();return t.flags|=n,0;case 12:n=jr.get();return re[n+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-22;case 9:return Tr(22),-1;default:return-22}}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function Jr(e,r){jr.varargs=r;try{var t=jr.getStreamFromFD(),n=jr.get(),o=jr.get();return Ur.read(t,$,n,o)}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function $r(e,r){jr.varargs=r;try{var t=jr.getStr(),n=jr.getStr();return Ur.rename(t,n),0}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function et(e,r){jr.varargs=r;try{var t=jr.getStr(),n=jr.get();return jr.doMkdir(t,n)}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function rt(e,r){jr.varargs=r;try{var t=jr.getStreamFromFD(),n=jr.get(),o=jr.get();return Ur.write(t,$,n,o)}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function tt(e,r){jr.varargs=r;try{var t=jr.getStr();return Ur.rmdir(t),0}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function nt(e,r){jr.varargs=r;try{var t=jr.getStr(),n=jr.get(),o=jr.get();return Ur.open(t,n,o).fd}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function ot(e,r){jr.varargs=r;try{var t=jr.getStreamFromFD(),n=jr.get();switch(n){case 21509:case 21505:return t.tty?0:-25;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return t.tty?0:-25;case 21519:if(!t.tty)return-25;var o=jr.get();return ne[o>>2]=0,0;case 21520:return t.tty?-22:-25;case 21531:o=jr.get();return Ur.ioctl(t,n,o);case 21523:return t.tty?0:-25;case 21524:return t.tty?0:-25;default:ys("bad ioctl syscall "+n)}}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function it(e,r){jr.varargs=r;try{var t=jr.getStreamFromFD();return Ur.close(t),0}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function at(e,r){jr.varargs=r;try{var t=jr.getStr(),n=jr.get(),o=jr.get();return jr.doReadlink(t,n,o)}catch(e){return void 0!==Ur&&e instanceof Ur.ErrnoError||ys(e),-e.errno}}function ut(){}function st(){a.abort()}function ct(){return l||"undefined"!=typeof dateNow||"object"==typeof performance&&performance&&"function"==typeof performance.now}function lt(e,r){var t;if(0===e)t=Date.now();else{if(1!==e||!ct())return Tr(22),-1;t=Ye()}return ne[r>>2]=t/1e3|0,ne[r+4>>2]=t%1e3*1e3*1e3|0,0}var ft={errorCode:12288,defaultDisplayInitialized:!1,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1},stringCache:{},setErrorCode:function(e){ft.errorCode=e},chooseConfig:function(e,r,t,n,o){if(62e3!=e)return ft.setErrorCode(12296),0;if(r)for(;;){var i=ne[r>>2];if(12321==i){var a=ne[r+4>>2];ft.contextAttributes.alpha=a>0}else if(12325==i){var u=ne[r+4>>2];ft.contextAttributes.depth=u>0}else if(12326==i){var s=ne[r+4>>2];ft.contextAttributes.stencil=s>0}else if(12337==i){var c=ne[r+4>>2];ft.contextAttributes.antialias=c>0}else if(12338==i){c=ne[r+4>>2];ft.contextAttributes.antialias=1==c}else if(12544==i){var l=ne[r+4>>2];ft.contextAttributes.lowLatency=12547!=l}else if(12344==i)break;r+=8}return t&&n||o?(o&&(ne[o>>2]=1),t&&n>0&&(ne[t>>2]=62002),ft.setErrorCode(12288),1):(ft.setErrorCode(12300),0)}};function mt(e){return 12448==e?(ft.setErrorCode(12288),1):(ft.setErrorCode(12300),0)}function dt(e,r,t,n,o){return ft.chooseConfig(e,r,t,n,o)}function pt(e,r,t,n){if(62e3!=e)return ft.setErrorCode(12296),0;for(var o=1;;){var i=ne[n>>2];if(12440!=i){if(12344==i)break;return ft.setErrorCode(12292),0}o=ne[n+4>>2],n+=8}return 2!=o?(ft.setErrorCode(12293),0):(ft.contextAttributes.majorVersion=o-1,ft.contextAttributes.minorVersion=0,ft.context=mr.createContext(a.canvas,ft.contextAttributes),0!=ft.context?(ft.setErrorCode(12288),mr.makeContextCurrent(ft.context),a.useWebGL=!0,Ze.moduleContextCreatedCallbacks.forEach((function(e){e()})),mr.makeContextCurrent(null),62004):(ft.setErrorCode(12297),0))}function _t(e,r,t,n){return 62e3!=e?(ft.setErrorCode(12296),0):62002!=r?(ft.setErrorCode(12293),0):(ft.setErrorCode(12288),62006)}function gt(e,r){return 62e3!=e?(ft.setErrorCode(12296),0):62004!=r?(ft.setErrorCode(12294),0):(ft.setErrorCode(12288),1)}function vt(e,r){return 62e3!=e?(ft.setErrorCode(12296),0):62006!=r?(ft.setErrorCode(12301),1):(ft.currentReadSurface==r&&(ft.currentReadSurface=0),ft.currentDrawSurface==r&&(ft.currentDrawSurface=0),ft.setErrorCode(12288),1)}function ht(e,r,t,n){return ft.chooseConfig(e,0,r,t,n)}function yt(){return ft.currentContext}function Et(e){return ft.setErrorCode(12288),62e3}function wt(){return ft.errorCode}function bt(e){return es(e)}function xt(e,r,t){return 62e3==e?(r&&(ne[r>>2]=1),t&&(ne[t>>2]=4),ft.defaultDisplayInitialized=!0,ft.setErrorCode(12288),1):(ft.setErrorCode(12296),0)}function kt(e,r,t,n){return 62e3!=e?(ft.setErrorCode(12296),0):0!=n&&62004!=n?(ft.setErrorCode(12294),0):0!=t&&62006!=t||0!=r&&62006!=r?(ft.setErrorCode(12301),0):(mr.makeContextCurrent(n?ft.context:null),ft.currentContext=n,ft.currentDrawSurface=r,ft.currentReadSurface=t,ft.setErrorCode(12288),1)}function St(e,r,t,n){if(62e3!=e)return ft.setErrorCode(12296),0;if(62006!=r)return ft.setErrorCode(12301),0;if(!n)return ft.setErrorCode(12300),0;switch(ft.setErrorCode(12288),t){case 12328:return ne[n>>2]=62002,1;case 12376:return 1;case 12375:return ne[n>>2]=600,1;case 12374:return ne[n>>2]=400,1;case 12432:return ne[n>>2]=-1,1;case 12433:return ne[n>>2]=-1,1;case 12434:return ne[n>>2]=-1,1;case 12422:return ne[n>>2]=12420,1;case 12441:return ne[n>>2]=12442,1;case 12435:return ne[n>>2]=12437,1;case 12416:case 12417:case 12418:case 12419:return 1;default:return ft.setErrorCode(12292),0}}function Ct(){if(ft.defaultDisplayInitialized)if(a.ctx){if(!a.ctx.isContextLost())return ft.setErrorCode(12288),1;ft.setErrorCode(12302)}else ft.setErrorCode(12290);else ft.setErrorCode(12289);return 0}function Dt(e){return 62e3!=e?(ft.setErrorCode(12296),0):(ft.currentContext=0,ft.currentReadSurface=0,ft.currentDrawSurface=0,ft.defaultDisplayInitialized=!1,ft.setErrorCode(12288),1)}var At={keyEvent:0,mouseEvent:0,wheelEvent:0,uiEvent:0,focusEvent:0,deviceOrientationEvent:0,deviceMotionEvent:0,fullscreenChangeEvent:0,pointerlockChangeEvent:0,visibilityChangeEvent:0,touchEvent:0,previousFullscreenElement:null,previousScreenX:null,previousScreenY:null,removeEventListenersRegistered:!1,removeAllEventListeners:function(){for(var e=At.eventHandlers.length-1;e>=0;--e)At._removeHandler(e);At.eventHandlers=[],At.deferredCalls=[]},registerRemoveEventListeners:function(){At.removeEventListenersRegistered||(ye.push(At.removeAllEventListeners),At.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,r,t){function n(e,r){if(e.length!=r.length)return!1;for(var t in e)if(e[t]!=r[t])return!1;return!0}for(var o in At.deferredCalls){var i=At.deferredCalls[o];if(i.targetFunction==e&&n(i.argsList,t))return}At.deferredCalls.push({targetFunction:e,precedence:r,argsList:t}),At.deferredCalls.sort((function(e,r){return e.precedence<r.precedence}))},removeDeferredCalls:function(e){for(var r=0;r<At.deferredCalls.length;++r)At.deferredCalls[r].targetFunction==e&&(At.deferredCalls.splice(r,1),--r)},canPerformEventHandlerRequests:function(){return At.inEventHandler&&At.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(At.canPerformEventHandlerRequests())for(var e=0;e<At.deferredCalls.length;++e){var r=At.deferredCalls[e];At.deferredCalls.splice(e,1),--e,r.targetFunction.apply(this,r.argsList)}},inEventHandler:0,currentEventHandler:null,eventHandlers:[],isInternetExplorer:function(){return-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0},removeAllHandlersOnTarget:function(e,r){for(var t=0;t<At.eventHandlers.length;++t)At.eventHandlers[t].target!=e||r&&r!=At.eventHandlers[t].eventTypeString||At._removeHandler(t--)},_removeHandler:function(e){var r=At.eventHandlers[e];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),At.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var r=function(r){++At.inEventHandler,At.currentEventHandler=e,At.runDeferredCalls(),e.handlerFunc(r),At.runDeferredCalls(),--At.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=r,e.target.addEventListener(e.eventTypeString,r,e.useCapture||{passive:!1}),At.eventHandlers.push(e),At.registerRemoveEventListeners();else for(var t=0;t<At.eventHandlers.length;++t)At.eventHandlers[t].target==e.target&&At.eventHandlers[t].eventTypeString==e.eventTypeString&&At._removeHandler(t--)},getBoundingClientRectOrZeros:function(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}},pageScrollPos:function(){return window.pageXOffset>0||window.pageYOffset>0?[window.pageXOffset,window.pageYOffset]:void 0!==document.documentElement.scrollLeft||void 0!==document.documentElement.scrollTop?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0|document.body.scrollLeft,0|document.body.scrollTop]},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},tick:function(){return window.performance&&window.performance.now?window.performance.now():Date.now()},fullscreenEnabled:function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled}};function Ft(e){if(e.requestPointerLock)e.requestPointerLock();else if(e.mozRequestPointerLock)e.mozRequestPointerLock();else if(e.webkitRequestPointerLock)e.webkitRequestPointerLock();else{if(!e.msRequestPointerLock)return document.body.requestPointerLock||document.body.mozRequestPointerLock||document.body.webkitRequestPointerLock||document.body.msRequestPointerLock?-3:-1;e.msRequestPointerLock()}return 0}function Lt(){if(At.removeDeferredCalls(Ft),document.exitPointerLock)document.exitPointerLock();else if(document.msExitPointerLock)document.msExitPointerLock();else if(document.mozExitPointerLock)document.mozExitPointerLock();else{if(!document.webkitExitPointerLock)return-1;document.webkitExitPointerLock()}return 0}function Rt(e){a.noExitRuntime=!1,hs(e)}var Tt=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Mt(e){return e?("number"==typeof e&&(e=Tt[e]||G(e)),"#window"===e?window:"#document"===e?document:"#screen"===e?screen:"#canvas"===e?a.canvas:"string"==typeof e?document.getElementById(e):e):window}function Pt(e){return"number"==typeof e&&(e=G(e)),e&&"#canvas"!==e?void 0!==mr&&mr.offscreenCanvases[e]?mr.offscreenCanvases[e]:Mt(e):void 0!==mr&&mr.offscreenCanvases.canvas?mr.offscreenCanvases.canvas:a.canvas}function Bt(e,r,t){if(!a.canvas)return-4;a.HEAP32[r>>2]=a.CanvasWidth,a.HEAP32[t>>2]=a.CanvasHidth}function It(e,r){ae[e>>3]=r.timestamp;for(var t=0;t<r.axes.length;++t)ae[e+8*t+16>>3]=r.axes[t];for(t=0;t<r.buttons.length;++t)"object"==typeof r.buttons[t]?ae[e+8*t+528>>3]=r.buttons[t].value:ae[e+8*t+528>>3]=r.buttons[t];for(t=0;t<r.buttons.length;++t)"object"==typeof r.buttons[t]?ne[e+4*t+1040>>2]=r.buttons[t].pressed:ne[e+4*t+1040>>2]=1==r.buttons[t];ne[e+1296>>2]=r.connected,ne[e+1300>>2]=r.index,ne[e+8>>2]=r.axes.length,ne[e+12>>2]=r.buttons.length,q(r.id,e+1304,64),q(r.mapping,e+1368,64)}function Ot(e,r){return e<0||e>=At.lastGamepadState.length?-5:At.lastGamepadState[e]?(It(r,At.lastGamepadState[e]),0):-7}function Nt(){return $.length}function Ut(){return At.lastGamepadState.length}function jt(e){Mu.activeTexture(e)}function Gt(e,r){Mu.attachShader(mr.programs[e],mr.shaders[r])}function zt(e,r){Mu.disjointTimerQueryExt.beginQueryEXT(e,mr.timerQueriesEXT[r])}function qt(e,r,t){Mu.bindAttribLocation(mr.programs[e],r,G(t))}function Wt(e,r){Mu.bindBuffer(e,mr.buffers[r])}function Xt(e,r){Mu.bindFramebuffer(e,mr.framebuffers[r])}function Vt(e,r){Mu.bindRenderbuffer(e,mr.renderbuffers[r])}function Ht(e,r){Mu.bindTexture(e,mr.textures[r])}function Yt(e){Mu.bindVertexArray(mr.vaos[e])}function Qt(e,r,t,n){Mu.blendColor(e,r,t,n)}function Zt(e){Mu.blendEquation(e)}function Kt(e,r){Mu.blendEquationSeparate(e,r)}function Jt(e,r){Mu.blendFunc(e,r)}function $t(e,r,t,n){Mu.blendFuncSeparate(e,r,t,n)}function en(e,r,t,n){Mu.bufferData(e,t?ee.subarray(t,t+r):r,n)}function rn(e,r,t,n){Mu.bufferSubData(e,r,ee.subarray(n,n+t))}function tn(e){return Mu.checkFramebufferStatus(e)}function nn(e){Mu.clear(e)}function on(e,r,t,n){Mu.clearColor(e,r,t,n)}function an(e){Mu.clearDepth(e)}function un(e){Mu.clearStencil(e)}function sn(e,r,t,n){Mu.colorMask(!!e,!!r,!!t,!!n)}function cn(e){Mu.compileShader(mr.shaders[e])}function ln(e,r,t,n,o,i,a,u){Mu.compressedTexImage2D(e,r,t,n,o,i,u?ee.subarray(u,u+a):null)}function fn(e,r,t,n,o,i,a,u,s){Mu.compressedTexSubImage2D(e,r,t,n,o,i,a,s?ee.subarray(s,s+u):null)}function mn(e,r,t,n,o,i,a,u){Mu.copyTexImage2D(e,r,t,n,o,i,a,u)}function dn(e,r,t,n,o,i,a,u){Mu.copyTexSubImage2D(e,r,t,n,o,i,a,u)}function pn(){var e=mr.getNewId(mr.programs),r=Mu.createProgram();return r.name=e,mr.programs[e]=r,e}function _n(e){var r=mr.getNewId(mr.shaders);return mr.shaders[r]=Mu.createShader(e),r}function gn(e){Mu.cullFace(e)}function vn(e,r){for(var t=0;t<e;t++){var n=ne[r+4*t>>2],o=mr.buffers[n];o&&(Mu.deleteBuffer(o),o.name=0,mr.buffers[n]=null,n==mr.currArrayBuffer&&(mr.currArrayBuffer=0),n==mr.currElementArrayBuffer&&(mr.currElementArrayBuffer=0))}}function hn(e,r){for(var t=0;t<e;++t){var n=ne[r+4*t>>2],o=mr.framebuffers[n];o&&(Mu.deleteFramebuffer(o),o.name=0,mr.framebuffers[n]=null)}}function yn(e){if(e){var r=mr.programs[e];r?(Mu.deleteProgram(r),r.name=0,mr.programs[e]=null,mr.programInfos[e]=null):mr.recordError(1281)}}function En(e,r){for(var t=0;t<e;t++){var n=ne[r+4*t>>2],o=mr.timerQueriesEXT[n];o&&(Mu.disjointTimerQueryExt.deleteQueryEXT(o),mr.timerQueriesEXT[n]=null)}}function wn(e,r){for(var t=0;t<e;t++){var n=ne[r+4*t>>2],o=mr.renderbuffers[n];o&&(Mu.deleteRenderbuffer(o),o.name=0,mr.renderbuffers[n]=null)}}function bn(e){if(e){var r=mr.shaders[e];r?(Mu.deleteShader(r),mr.shaders[e]=null):mr.recordError(1281)}}function xn(e,r){for(var t=0;t<e;t++){var n=ne[r+4*t>>2],o=mr.textures[n];o&&(Mu.deleteTexture(o),o.name=0,mr.textures[n]=null)}}function kn(e,r){for(var t=0;t<e;t++){var n=ne[r+4*t>>2];Mu.deleteVertexArray(mr.vaos[n]),mr.vaos[n]=null}}function Sn(e){Mu.depthFunc(e)}function Cn(e){Mu.depthMask(!!e)}function Dn(e,r){Mu.depthRange(e,r)}function An(e,r){Mu.detachShader(mr.programs[e],mr.shaders[r])}function Fn(e){Mu.disable(e)}function Ln(e){Mu.disableVertexAttribArray(e)}function Rn(e,r,t){Mu.drawArrays(e,r,t)}function Tn(e,r,t,n){Mu.drawArraysInstanced(e,r,t,n)}var Mn=[];function Pn(e,r){for(var t=Mn[e],n=0;n<e;n++)t[n]=ne[r+4*n>>2];Mu.drawBuffers(t)}function Bn(e,r,t,n){Mu.drawElements(e,r,t,n)}function In(e,r,t,n,o){Mu.drawElementsInstanced(e,r,t,n,o)}function On(e){Mu.enable(e)}function Nn(e){Mu.enableVertexAttribArray(e)}function Un(e){Mu.disjointTimerQueryExt.endQueryEXT(e)}function jn(){Mu.finish()}function Gn(){Mu.flush()}function zn(e,r,t,n){Mu.framebufferRenderbuffer(e,r,t,mr.renderbuffers[n])}function qn(e,r,t,n,o){Mu.framebufferTexture2D(e,r,t,mr.textures[n],o)}function Wn(e){Mu.frontFace(e)}function Xn(e,r){vr(e,r,"createBuffer",mr.buffers)}function Vn(e,r){vr(e,r,"createFramebuffer",mr.framebuffers)}function Hn(e,r){for(var t=0;t<e;t++){var n=Mu.disjointTimerQueryExt.createQueryEXT();if(!n){for(mr.recordError(1282);t<e;)ne[r+4*t++>>2]=0;return}var o=mr.getNewId(mr.timerQueriesEXT);n.name=o,mr.timerQueriesEXT[o]=n,ne[r+4*t>>2]=o}}function Yn(e,r){vr(e,r,"createRenderbuffer",mr.renderbuffers)}function Qn(e,r){vr(e,r,"createTexture",mr.textures)}function Zn(e,r){vr(e,r,"createVertexArray",mr.vaos)}function Kn(e){Mu.generateMipmap(e)}function Jn(e,r,t,n,o,i,a){e=mr.programs[e];var u=Mu.getActiveAttrib(e,r);if(u){if(t>0&&a){var s=q(u.name,a,t);n&&(ne[n>>2]=s)}else n&&(ne[n>>2]=0);o&&(ne[o>>2]=u.size),i&&(ne[i>>2]=u.type)}}function $n(e,r,t,n,o,i,a){e=mr.programs[e];var u=Mu.getActiveUniform(e,r);if(u){if(t>0&&a){var s=q(u.name,a,t);n&&(ne[n>>2]=s)}else n&&(ne[n>>2]=0);o&&(ne[o>>2]=u.size),i&&(ne[i>>2]=u.type)}}function eo(e,r,t,n){var o=Mu.getAttachedShaders(mr.programs[e]),i=o.length;i>r&&(i=r),ne[t>>2]=i;for(var a=0;a<i;++a){var u=mr.shaders.indexOf(o[a]);ne[n+4*a>>2]=u}}function ro(e,r){return Mu.getAttribLocation(mr.programs[e],G(r))}function to(e,r){pr(e,r,"Boolean")}function no(e,r,t){t?ne[t>>2]=Mu.getBufferParameter(e,r):mr.recordError(1281)}function oo(){if(mr.lastError){var e=mr.lastError;return mr.lastError=0,e}return Mu.getError()}function io(e,r){pr(e,r,"Float")}function ao(e,r,t,n){var o=Mu.getFramebufferAttachmentParameter(e,r,t);(o instanceof WebGLRenderbuffer||o instanceof WebGLTexture)&&(o=0|o.name),ne[n>>2]=o}function uo(e,r){pr(e,r,"Integer")}function so(e,r,t,n){var o=Mu.getProgramInfoLog(mr.programs[e]);if(null===o&&(o="(unknown error)"),r>0&&n){var i=q(o,n,r);t&&(ne[t>>2]=i)}else t&&(ne[t>>2]=0)}function co(e,r,t){if(t)if(e>=mr.counter)mr.recordError(1281);else{var n=mr.programInfos[e];if(n)if(35716==r){var o=Mu.getProgramInfoLog(mr.programs[e]);null===o&&(o="(unknown error)"),ne[t>>2]=o.length+1}else if(35719==r)ne[t>>2]=n.maxUniformLength;else if(35722==r){if(-1==n.maxAttributeLength){e=mr.programs[e];var i=Mu.getProgramParameter(e,35721);n.maxAttributeLength=0;for(var a=0;a<i;++a){var u=Mu.getActiveAttrib(e,a);n.maxAttributeLength=Math.max(n.maxAttributeLength,u.name.length+1)}}ne[t>>2]=n.maxAttributeLength}else if(35381==r){if(-1==n.maxUniformBlockNameLength){e=mr.programs[e];var s=Mu.getProgramParameter(e,35382);n.maxUniformBlockNameLength=0;for(a=0;a<s;++a){var c=Mu.getActiveUniformBlockName(e,a);n.maxUniformBlockNameLength=Math.max(n.maxUniformBlockNameLength,c.length+1)}}ne[t>>2]=n.maxUniformBlockNameLength}else ne[t>>2]=Mu.getProgramParameter(mr.programs[e],r);else mr.recordError(1282)}else mr.recordError(1281)}function lo(e,r,o){if(o){var i,a=mr.timerQueriesEXT[e],u=Mu.disjointTimerQueryExt.getQueryObjectEXT(a,r);n=[(i="boolean"==typeof u?u?1:0:u)>>>0,(t=i,+Fe(t)>=1?t>0?(0|Te(+Re(t/4294967296),4294967295))>>>0:~~+Le((t-+(~~t>>>0))/4294967296)>>>0:0)],ne[o>>2]=n[0],ne[o+4>>2]=n[1]}else mr.recordError(1281)}function fo(e,r,t){if(t){var n,o=mr.timerQueriesEXT[e],i=Mu.disjointTimerQueryExt.getQueryObjectEXT(o,r);n="boolean"==typeof i?i?1:0:i,ne[t>>2]=n}else mr.recordError(1281)}function mo(e,r,o){if(o){var i,a=mr.timerQueriesEXT[e],u=Mu.disjointTimerQueryExt.getQueryObjectEXT(a,r);n=[(i="boolean"==typeof u?u?1:0:u)>>>0,(t=i,+Fe(t)>=1?t>0?(0|Te(+Re(t/4294967296),4294967295))>>>0:~~+Le((t-+(~~t>>>0))/4294967296)>>>0:0)],ne[o>>2]=n[0],ne[o+4>>2]=n[1]}else mr.recordError(1281)}function po(e,r,t){if(t){var n,o=mr.timerQueriesEXT[e],i=Mu.disjointTimerQueryExt.getQueryObjectEXT(o,r);n="boolean"==typeof i?i?1:0:i,ne[t>>2]=n}else mr.recordError(1281)}function _o(e,r,t){t?ne[t>>2]=Mu.disjointTimerQueryExt.getQueryEXT(e,r):mr.recordError(1281)}function go(e,r,t){t?ne[t>>2]=Mu.getRenderbufferParameter(e,r):mr.recordError(1281)}function vo(e,r,t,n){var o=Mu.getShaderInfoLog(mr.shaders[e]);if(null===o&&(o="(unknown error)"),r>0&&n){var i=q(o,n,r);t&&(ne[t>>2]=i)}else t&&(ne[t>>2]=0)}function ho(e,r,t,n){var o=Mu.getShaderPrecisionFormat(e,r);ne[t>>2]=o.rangeMin,ne[t+4>>2]=o.rangeMax,ne[n>>2]=o.precision}function yo(e,r,t,n){var o=Mu.getShaderSource(mr.shaders[e]);if(o)if(r>0&&n){var i=q(o,n,r);t&&(ne[t>>2]=i)}else t&&(ne[t>>2]=0)}function Eo(e,r,t){if(t)if(35716==r){var n=Mu.getShaderInfoLog(mr.shaders[e]);null===n&&(n="(unknown error)"),ne[t>>2]=n.length+1}else if(35720==r){var o=Mu.getShaderSource(mr.shaders[e]),i=null===o||0==o.length?0:o.length+1;ne[t>>2]=i}else ne[t>>2]=Mu.getShaderParameter(mr.shaders[e],r);else mr.recordError(1281)}function wo(e){var r=W(e)+1,t=ts(r);return q(e,t,r),t}function bo(e){if(mr.stringCache[e])return mr.stringCache[e];var r;switch(e){case 7939:for(var t=Mu.getSupportedExtensions(),n=[],o=0;o<t.length;++o)n.push(t[o]),n.push("GL_"+t[o]);r=wo(n.join(" "));break;case 7936:case 7937:case 37445:case 37446:var i=Mu.getParameter(e);i||mr.recordError(1280),r=wo(i);break;case 7938:var a=Mu.getParameter(Mu.VERSION);r=wo(a="OpenGL ES 2.0 ("+a+")");break;case 35724:var u=Mu.getParameter(Mu.SHADING_LANGUAGE_VERSION),s=u.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==s&&(3==s[1].length&&(s[1]=s[1]+"0"),u="OpenGL ES GLSL ES "+s[1]+" ("+u+")"),r=wo(u);break;default:return mr.recordError(1280),0}return mr.stringCache[e]=r,r}function xo(e,r,t){t?ie[t>>2]=Mu.getTexParameter(e,r):mr.recordError(1281)}function ko(e,r,t){t?ne[t>>2]=Mu.getTexParameter(e,r):mr.recordError(1281)}function So(e,r){var t=0;if("]"==(r=G(r))[r.length-1]){var n=r.lastIndexOf("[");t="]"!=r[n+1]?parseInt(r.slice(n+1)):0,r=r.slice(0,n)}var o=mr.programInfos[e]&&mr.programInfos[e].uniforms[r];return o&&t>=0&&t<o[0]?o[1]+t:-1}function Co(e,r,t,n){if(t){var o=Mu.getUniform(mr.programs[e],mr.uniforms[r]);if("number"==typeof o||"boolean"==typeof o)switch(n){case"Integer":ne[t>>2]=o;break;case"Float":ie[t>>2]=o;break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+n}else for(var i=0;i<o.length;i++)switch(n){case"Integer":ne[t+4*i>>2]=o[i];break;case"Float":ie[t+4*i>>2]=o[i];break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+n}}else mr.recordError(1281)}function Do(e,r,t){Co(e,r,t,"Float")}function Ao(e,r,t){Co(e,r,t,"Integer")}function Fo(e,r,t){t?ne[t>>2]=Mu.getVertexAttribOffset(e,r):mr.recordError(1281)}function Lo(e,r,t,n){if(t){var o=Mu.getVertexAttrib(e,r);if(34975==r)ne[t>>2]=o.name;else if("number"==typeof o||"boolean"==typeof o)switch(n){case"Integer":ne[t>>2]=o;break;case"Float":ie[t>>2]=o;break;case"FloatToInteger":ne[t>>2]=Math.fround(o);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+n}else for(var i=0;i<o.length;i++)switch(n){case"Integer":ne[t+4*i>>2]=o[i];break;case"Float":ie[t+4*i>>2]=o[i];break;case"FloatToInteger":ne[t+4*i>>2]=Math.fround(o[i]);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+n}}else mr.recordError(1281)}function Ro(e,r,t){Lo(e,r,t,"Float")}function To(e,r,t){Lo(e,r,t,"FloatToInteger")}function Mo(e,r){Mu.hint(e,r)}function Po(e){var r=mr.buffers[e];return r?Mu.isBuffer(r):0}function Bo(e){return Mu.isEnabled(e)}function Io(e){var r=mr.framebuffers[e];return r?Mu.isFramebuffer(r):0}function Oo(e){return(e=mr.programs[e])?Mu.isProgram(e):0}function No(e){var r=mr.timerQueriesEXT[e];return r?Mu.disjointTimerQueryExt.isQueryEXT(r):0}function Uo(e){var r=mr.renderbuffers[e];return r?Mu.isRenderbuffer(r):0}function jo(e){var r=mr.shaders[e];return r?Mu.isShader(r):0}function Go(e){var r=mr.textures[e];return r?Mu.isTexture(r):0}function zo(e){var r=mr.vaos[e];return r?Mu.isVertexArray(r):0}function qo(e){Mu.lineWidth(e)}function Wo(e){Mu.linkProgram(mr.programs[e]),mr.populateUniformTable(e)}function Xo(e,r){3317==e&&(mr.unpackAlignment=r),Mu.pixelStorei(e,r)}function Vo(e,r){Mu.polygonOffset(e,r)}function Ho(e,r){Mu.disjointTimerQueryExt.queryCounterEXT(mr.timerQueriesEXT[e],r)}function Yo(e,r,t,n){var o;return r*(e*t+(o=n)-1&-o)}var Qo={6402:1,6406:1,6407:3,6408:4,6409:1,6410:2,35904:3,35906:4},Zo={5121:1,5123:2,5125:4,5126:4,32819:2,32820:2,33635:2,34042:4,36193:2};function Ko(e,r,t,n,o,i){var a=Qo[r]*Zo[e];if(a){var u=o+Yo(t,n,a,mr.unpackAlignment);switch(e){case 5121:return ee.subarray(o,u);case 5126:return ie.subarray(o>>2,u>>2);case 5125:case 34042:return oe.subarray(o>>2,u>>2);case 5123:case 33635:case 32819:case 32820:case 36193:return te.subarray(o>>1,u>>1);default:mr.recordError(1280)}}else mr.recordError(1280)}function Jo(e,r,t,n,o,i,a){var u=Ko(i,o,t,n,a);u?Mu.readPixels(e,r,t,n,o,i,u):mr.recordError(1280)}function $o(){}function ei(e,r,t,n){Mu.renderbufferStorage(e,r,t,n)}function ri(e,r){Mu.sampleCoverage(e,!!r)}function ti(e,r,t,n){Mu.scissor(e,r,t,n)}function ni(){mr.recordError(1280)}function oi(e,r,t,n){var o=mr.getSource(e,r,t,n);Mu.shaderSource(mr.shaders[e],o)}function ii(e,r,t){Mu.stencilFunc(e,r,t)}function ai(e,r,t,n){Mu.stencilFuncSeparate(e,r,t,n)}function ui(e){Mu.stencilMask(e)}function si(e,r){Mu.stencilMaskSeparate(e,r)}function ci(e,r,t){Mu.stencilOp(e,r,t)}function li(e,r,t,n){Mu.stencilOpSeparate(e,r,t,n)}function fi(e,r,t,n,o,i,a,u,s){Mu.texImage2D(e,r,t,n,o,i,a,u,s?Ko(u,a,n,o,s):null)}function mi(e,r,t){Mu.texParameterf(e,r,t)}function di(e,r,t){var n=ie[t>>2];Mu.texParameterf(e,r,n)}function pi(e,r,t){Mu.texParameteri(e,r,t)}function _i(e,r,t){var n=ne[t>>2];Mu.texParameteri(e,r,n)}function gi(e,r,t,n,o,i,a,u,s){var c=null;s&&(c=Ko(u,a,o,i,s)),Mu.texSubImage2D(e,r,t,n,o,i,a,u,c)}function vi(e,r){Mu.uniform1f(mr.uniforms[e],r)}function hi(e,r,t){if(r<=mr.MINI_TEMP_BUFFER_SIZE)for(var n=mr.miniTempBufferViews[r-1],o=0;o<r;++o)n[o]=ie[t+4*o>>2];else n=ie.subarray(t>>2,t+4*r>>2);Mu.uniform1fv(mr.uniforms[e],n)}function yi(e,r){Mu.uniform1i(mr.uniforms[e],r)}function Ei(e,r,t){Mu.uniform1iv(mr.uniforms[e],ne.subarray(t>>2,t+4*r>>2))}function wi(e,r,t){Mu.uniform2f(mr.uniforms[e],r,t)}function bi(e,r,t){if(2*r<=mr.MINI_TEMP_BUFFER_SIZE)for(var n=mr.miniTempBufferViews[2*r-1],o=0;o<2*r;o+=2)n[o]=ie[t+4*o>>2],n[o+1]=ie[t+(4*o+4)>>2];else n=ie.subarray(t>>2,t+8*r>>2);Mu.uniform2fv(mr.uniforms[e],n)}function xi(e,r,t){Mu.uniform2i(mr.uniforms[e],r,t)}function ki(e,r,t){Mu.uniform2iv(mr.uniforms[e],ne.subarray(t>>2,t+8*r>>2))}function Si(e,r,t,n){Mu.uniform3f(mr.uniforms[e],r,t,n)}function Ci(e,r,t){if(3*r<=mr.MINI_TEMP_BUFFER_SIZE)for(var n=mr.miniTempBufferViews[3*r-1],o=0;o<3*r;o+=3)n[o]=ie[t+4*o>>2],n[o+1]=ie[t+(4*o+4)>>2],n[o+2]=ie[t+(4*o+8)>>2];else n=ie.subarray(t>>2,t+12*r>>2);Mu.uniform3fv(mr.uniforms[e],n)}function Di(e,r,t,n){Mu.uniform3i(mr.uniforms[e],r,t,n)}function Ai(e,r,t){Mu.uniform3iv(mr.uniforms[e],ne.subarray(t>>2,t+12*r>>2))}function Fi(e,r,t,n,o){Mu.uniform4f(mr.uniforms[e],r,t,n,o)}function Li(e,r,t){if(4*r<=mr.MINI_TEMP_BUFFER_SIZE)for(var n=mr.miniTempBufferViews[4*r-1],o=0;o<4*r;o+=4)n[o]=ie[t+4*o>>2],n[o+1]=ie[t+(4*o+4)>>2],n[o+2]=ie[t+(4*o+8)>>2],n[o+3]=ie[t+(4*o+12)>>2];else n=ie.subarray(t>>2,t+16*r>>2);Mu.uniform4fv(mr.uniforms[e],n)}function Ri(e,r,t,n,o){Mu.uniform4i(mr.uniforms[e],r,t,n,o)}function Ti(e,r,t){Mu.uniform4iv(mr.uniforms[e],ne.subarray(t>>2,t+16*r>>2))}function Mi(e,r,t,n){if(4*r<=mr.MINI_TEMP_BUFFER_SIZE)for(var o=mr.miniTempBufferViews[4*r-1],i=0;i<4*r;i+=4)o[i]=ie[n+4*i>>2],o[i+1]=ie[n+(4*i+4)>>2],o[i+2]=ie[n+(4*i+8)>>2],o[i+3]=ie[n+(4*i+12)>>2];else o=ie.subarray(n>>2,n+16*r>>2);Mu.uniformMatrix2fv(mr.uniforms[e],!!t,o)}function Pi(e,r,t,n){if(9*r<=mr.MINI_TEMP_BUFFER_SIZE)for(var o=mr.miniTempBufferViews[9*r-1],i=0;i<9*r;i+=9)o[i]=ie[n+4*i>>2],o[i+1]=ie[n+(4*i+4)>>2],o[i+2]=ie[n+(4*i+8)>>2],o[i+3]=ie[n+(4*i+12)>>2],o[i+4]=ie[n+(4*i+16)>>2],o[i+5]=ie[n+(4*i+20)>>2],o[i+6]=ie[n+(4*i+24)>>2],o[i+7]=ie[n+(4*i+28)>>2],o[i+8]=ie[n+(4*i+32)>>2];else o=ie.subarray(n>>2,n+36*r>>2);Mu.uniformMatrix3fv(mr.uniforms[e],!!t,o)}function Bi(e,r,t,n){if(16*r<=mr.MINI_TEMP_BUFFER_SIZE)for(var o=mr.miniTempBufferViews[16*r-1],i=0;i<16*r;i+=16)o[i]=ie[n+4*i>>2],o[i+1]=ie[n+(4*i+4)>>2],o[i+2]=ie[n+(4*i+8)>>2],o[i+3]=ie[n+(4*i+12)>>2],o[i+4]=ie[n+(4*i+16)>>2],o[i+5]=ie[n+(4*i+20)>>2],o[i+6]=ie[n+(4*i+24)>>2],o[i+7]=ie[n+(4*i+28)>>2],o[i+8]=ie[n+(4*i+32)>>2],o[i+9]=ie[n+(4*i+36)>>2],o[i+10]=ie[n+(4*i+40)>>2],o[i+11]=ie[n+(4*i+44)>>2],o[i+12]=ie[n+(4*i+48)>>2],o[i+13]=ie[n+(4*i+52)>>2],o[i+14]=ie[n+(4*i+56)>>2],o[i+15]=ie[n+(4*i+60)>>2];else o=ie.subarray(n>>2,n+64*r>>2);Mu.uniformMatrix4fv(mr.uniforms[e],!!t,o)}function Ii(e){Mu.useProgram(mr.programs[e])}function Oi(e){Mu.validateProgram(mr.programs[e])}function Ni(e,r){Mu.vertexAttrib1f(e,r)}function Ui(e,r){Mu.vertexAttrib1f(e,ie[r>>2])}function ji(e,r,t){Mu.vertexAttrib2f(e,r,t)}function Gi(e,r){Mu.vertexAttrib2f(e,ie[r>>2],ie[r+4>>2])}function zi(e,r,t,n){Mu.vertexAttrib3f(e,r,t,n)}function qi(e,r){Mu.vertexAttrib3f(e,ie[r>>2],ie[r+4>>2],ie[r+8>>2])}function Wi(e,r,t,n,o){Mu.vertexAttrib4f(e,r,t,n,o)}function Xi(e,r){Mu.vertexAttrib4f(e,ie[r>>2],ie[r+4>>2],ie[r+8>>2],ie[r+12>>2])}function Vi(e,r){Mu.vertexAttribDivisor(e,r)}function Hi(e,r,t,n,o,i){Mu.vertexAttribPointer(e,r,t,!!n,o,i)}function Yi(e,r,t,n){Mu.viewport(e,r,t,n)}function Qi(e,r){return e||(e="#canvas"),(e=Mt(e))?e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock||e.msRequestPointerLock?At.canPerformEventHandlerRequests()?Ft(e):r?(At.deferCall(Ft,2,[e]),1):-2:-1:-4}function Zi(e,r,t){return a.canvas?(r!=a.CanvasWidth&&t!=a.CanvasHeight&&(a.canvas.width=a.CanvasWidth,a.canvas.height=a.CanvasHeight),0):-4}function Ki(e,r,t){return;if(ae[e>>3]=At.tick(),ne[e+8>>2]=r.screenX,ne[e+12>>2]=r.screenY,ne[e+16>>2]=r.clientX,ne[e+20>>2]=r.clientY,ne[e+24>>2]=r.ctrlKey,ne[e+28>>2]=r.shiftKey,ne[e+32>>2]=r.altKey,ne[e+36>>2]=r.metaKey,re[e+40>>1]=r.button,re[e+42>>1]=r.buttons,ne[e+44>>2]=r.movementX||r.mozMovementX||r.webkitMovementX||r.screenX-At.previousScreenX,ne[e+48>>2]=r.movementY||r.mozMovementY||r.webkitMovementY||r.screenY-At.previousScreenY,a.canvas){var n=a.canvas.getBoundingClientRect();ne[e+60>>2]=r.clientX-n.left,ne[e+64>>2]=r.clientY-n.top}else ne[e+60>>2]=0,ne[e+64>>2]=0;if(t){n=At.getBoundingClientRectOrZeros(t);ne[e+52>>2]=r.clientX-n.left,ne[e+56>>2]=r.clientY-n.top}else ne[e+52>>2]=0,ne[e+56>>2]=0;"wheel"!==r.type&&"mousewheel"!==r.type&&(At.previousScreenX=r.screenX,At.previousScreenY=r.screenY)}function Ji(e,r,t,n,o,i,a){return 0;At.mouseEvent||(At.mouseEvent=ts(72));var u={target:e=Mt(e),allowsDeferredCalls:"mousemove"!=i&&"mouseenter"!=i&&"mouseleave"!=i,eventTypeString:i,callbackfunc:n,handlerFunc:function(e){var t=e||window.event;At.mouseEvent,fs(n,o,At.mouseEvent,r)&&t.preventDefault()},useCapture:t};At.isInternetExplorer()&&"mousedown"==i&&(u.allowsDeferredCalls=!1),At.registerOrRemoveHandler(u)}function $i(e,r,t,n,o){return 0;return 0}function ea(e,r,t,n,o){return 0;return 0}function ra(e,r,t,n,o){return 0;return 0}function ta(e,r,t,n,o,i,a){return 0;At.wheelEvent||(At.wheelEvent=ts(104));var u={target:e,allowsDeferredCalls:!0,eventTypeString:i,callbackfunc:n,handlerFunc:"wheel"==i?function(e){var t=e||window.event,i=At.wheelEvent;ae[i+72>>3]=t.deltaX,ae[i+80>>3]=t.deltaY,ae[i+88>>3]=t.deltaZ,ne[i+96>>2]=t.deltaMode,fs(n,o,i,r)&&t.preventDefault()}:function(e){var t=e||window.event;At.wheelEvent,ae[At.wheelEvent+72>>3]=t.wheelDeltaX||0,ae[At.wheelEvent+80>>3]=-(t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta),ae[At.wheelEvent+88>>3]=0,ne[At.wheelEvent+96>>2]=0,fs(n,o,At.wheelEvent,r)&&t.preventDefault()},useCapture:t};At.registerOrRemoveHandler(u)}function na(e,r,t,n,o){return 0;return void 0!==(e=Mt(e)).onwheel||void 0!==e.onmousewheel?0:-1}function oa(e){hs(e)}function ia(e){return 0===e?0:(e=G(e),kr.hasOwnProperty(e)?(ia.ret&&rs(ia.ret),ia.ret=X(kr[e]),ia.ret):0)}function aa(e){Mu.activeTexture(e)}function ua(e,r){Mu.attachShader(mr.programs[e],mr.shaders[r])}function sa(e,r){Mu.bindBuffer(e,mr.buffers[r])}function ca(e,r){Mu.bindFramebuffer(e,mr.framebuffers[r])}function la(e,r){Mu.bindRenderbuffer(e,mr.renderbuffers[r])}function fa(e){Mu.blendEquation(e)}function ma(e,r){Mu.blendFunc(e,r)}function da(e,r,t,n){Mu.bufferData(e,t?ee.subarray(t,t+r):r,n)}function pa(e){return Mu.checkFramebufferStatus(e)}function _a(e){Mu.clear(e)}function ga(e,r,t,n){Mu.clearColor(e,r,t,n)}function va(e){Mu.compileShader(mr.shaders[e])}function ha(){var e=mr.getNewId(mr.programs),r=Mu.createProgram();return r.name=e,mr.programs[e]=r,e}function ya(e){var r=mr.getNewId(mr.shaders);return mr.shaders[r]=Mu.createShader(e),r}function Ea(e,r){for(var t=0;t<e;t++){var n=ne[r+4*t>>2],o=mr.buffers[n];o&&(Mu.deleteBuffer(o),o.name=0,mr.buffers[n]=null,n==mr.currArrayBuffer&&(mr.currArrayBuffer=0),n==mr.currElementArrayBuffer&&(mr.currElementArrayBuffer=0))}}function wa(e,r){for(var t=0;t<e;++t){var n=ne[r+4*t>>2],o=mr.framebuffers[n];o&&(Mu.deleteFramebuffer(o),o.name=0,mr.framebuffers[n]=null)}}function ba(e){if(e){var r=mr.programs[e];r?(Mu.deleteProgram(r),r.name=0,mr.programs[e]=null,mr.programInfos[e]=null):mr.recordError(1281)}}function xa(e,r){for(var t=0;t<e;t++){var n=ne[r+4*t>>2],o=mr.renderbuffers[n];o&&(Mu.deleteRenderbuffer(o),o.name=0,mr.renderbuffers[n]=null)}}function ka(e){if(e){var r=mr.shaders[e];r?(Mu.deleteShader(r),mr.shaders[e]=null):mr.recordError(1281)}}function Sa(e){Mu.disable(e)}function Ca(e){Mu.disableVertexAttribArray(e)}function Da(e,r,t){Mu.drawArrays(e,r,t)}function Aa(e){Mu.enable(e)}function Fa(e){Mu.enableVertexAttribArray(e)}function La(){Mu.finish()}function Ra(){Mu.flush()}function Ta(e,r,t,n){Mu.framebufferRenderbuffer(e,r,t,mr.renderbuffers[n])}function Ma(e,r,t,n,o){Mu.framebufferTexture2D(e,r,t,mr.textures[n],o)}function Pa(e,r){vr(e,r,"createBuffer",mr.buffers)}function Ba(e,r){vr(e,r,"createFramebuffer",mr.framebuffers)}function Ia(e,r){vr(e,r,"createRenderbuffer",mr.renderbuffers)}function Oa(e){Mu.generateMipmap(e)}function Na(e,r){return Mu.getAttribLocation(mr.programs[e],G(r))}function Ua(){if(mr.lastError){var e=mr.lastError;return mr.lastError=0,e}return Mu.getError()}function ja(e,r,t,n){var o=Mu.getProgramInfoLog(mr.programs[e]);if(null===o&&(o="(unknown error)"),r>0&&n){var i=q(o,n,r);t&&(ne[t>>2]=i)}else t&&(ne[t>>2]=0)}function Ga(e,r,t){if(t)if(e>=mr.counter)mr.recordError(1281);else{var n=mr.programInfos[e];if(n)if(35716==r){var o=Mu.getProgramInfoLog(mr.programs[e]);null===o&&(o="(unknown error)"),ne[t>>2]=o.length+1}else if(35719==r)ne[t>>2]=n.maxUniformLength;else if(35722==r){if(-1==n.maxAttributeLength){e=mr.programs[e];var i=Mu.getProgramParameter(e,35721);n.maxAttributeLength=0;for(var a=0;a<i;++a){var u=Mu.getActiveAttrib(e,a);n.maxAttributeLength=Math.max(n.maxAttributeLength,u.name.length+1)}}ne[t>>2]=n.maxAttributeLength}else if(35381==r){if(-1==n.maxUniformBlockNameLength){e=mr.programs[e];var s=Mu.getProgramParameter(e,35382);n.maxUniformBlockNameLength=0;for(a=0;a<s;++a){var c=Mu.getActiveUniformBlockName(e,a);n.maxUniformBlockNameLength=Math.max(n.maxUniformBlockNameLength,c.length+1)}}ne[t>>2]=n.maxUniformBlockNameLength}else ne[t>>2]=Mu.getProgramParameter(mr.programs[e],r);else mr.recordError(1282)}else mr.recordError(1281)}function za(e,r,t,n){var o=Mu.getShaderInfoLog(mr.shaders[e]);if(null===o&&(o="(unknown error)"),r>0&&n){var i=q(o,n,r);t&&(ne[t>>2]=i)}else t&&(ne[t>>2]=0)}function qa(e,r,t){if(t)if(35716==r){var n=Mu.getShaderInfoLog(mr.shaders[e]);null===n&&(n="(unknown error)"),ne[t>>2]=n.length+1}else if(35720==r){var o=Mu.getShaderSource(mr.shaders[e]),i=null===o||0==o.length?0:o.length+1;ne[t>>2]=i}else ne[t>>2]=Mu.getShaderParameter(mr.shaders[e],r);else mr.recordError(1281)}function Wa(e){if(mr.stringCache[e])return mr.stringCache[e];var r;switch(e){case 7939:for(var t=Mu.getSupportedExtensions(),n=[],o=0;o<t.length;++o)n.push(t[o]),n.push("GL_"+t[o]);r=wo(n.join(" "));break;case 7936:case 7937:case 37445:case 37446:var i=Mu.getParameter(e);i||mr.recordError(1280),r=wo(i);break;case 7938:var a=Mu.getParameter(Mu.VERSION);r=wo(a="OpenGL ES 2.0 ("+a+")");break;case 35724:var u=Mu.getParameter(Mu.SHADING_LANGUAGE_VERSION),s=u.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==s&&(3==s[1].length&&(s[1]=s[1]+"0"),u="OpenGL ES GLSL ES "+s[1]+" ("+u+")"),r=wo(u);break;default:return mr.recordError(1280),0}return mr.stringCache[e]=r,r}function Xa(e,r){var t=0;if("]"==(r=G(r))[r.length-1]){var n=r.lastIndexOf("[");t="]"!=r[n+1]?parseInt(r.slice(n+1)):0,r=r.slice(0,n)}var o=mr.programInfos[e]&&mr.programInfos[e].uniforms[r];return o&&t>=0&&t<o[0]?o[1]+t:-1}function Va(e){return(e=mr.programs[e])?Mu.isProgram(e):0}function Ha(e){Mu.linkProgram(mr.programs[e]),mr.populateUniformTable(e)}function Ya(e,r){3317==e&&(mr.unpackAlignment=r),Mu.pixelStorei(e,r)}function Qa(e,r,t,n,o,i,a){var u=Ko(i,o,t,n,a);u?Mu.readPixels(e,r,t,n,o,i,u):mr.recordError(1280)}function Za(e,r,t,n){Mu.renderbufferStorage(e,r,t,n)}function Ka(e,r,t,n){var o=mr.getSource(e,r,t,n);Mu.shaderSource(mr.shaders[e],o)}function Ja(e,r,t,n,o,i,a,u,s){Mu.texImage2D(e,r,t,n,o,i,a,u,s?Ko(u,a,n,o,s):null)}function $a(e,r,t,n,o,i,a,u,s){var c=null;s&&(c=Ko(u,a,o,i,s)),Mu.texSubImage2D(e,r,t,n,o,i,a,u,c)}function eu(e,r){Mu.uniform1f(mr.uniforms[e],r)}function ru(e,r,t){if(r<=mr.MINI_TEMP_BUFFER_SIZE)for(var n=mr.miniTempBufferViews[r-1],o=0;o<r;++o)n[o]=ie[t+4*o>>2];else n=ie.subarray(t>>2,t+4*r>>2);Mu.uniform1fv(mr.uniforms[e],n)}function tu(e,r){Mu.uniform1i(mr.uniforms[e],r)}function nu(e,r,t){Mu.uniform2f(mr.uniforms[e],r,t)}function ou(e,r,t){if(2*r<=mr.MINI_TEMP_BUFFER_SIZE)for(var n=mr.miniTempBufferViews[2*r-1],o=0;o<2*r;o+=2)n[o]=ie[t+4*o>>2],n[o+1]=ie[t+(4*o+4)>>2];else n=ie.subarray(t>>2,t+8*r>>2);Mu.uniform2fv(mr.uniforms[e],n)}function iu(e,r,t,n){Mu.uniform3f(mr.uniforms[e],r,t,n)}function au(e,r,t){if(3*r<=mr.MINI_TEMP_BUFFER_SIZE)for(var n=mr.miniTempBufferViews[3*r-1],o=0;o<3*r;o+=3)n[o]=ie[t+4*o>>2],n[o+1]=ie[t+(4*o+4)>>2],n[o+2]=ie[t+(4*o+8)>>2];else n=ie.subarray(t>>2,t+12*r>>2);Mu.uniform3fv(mr.uniforms[e],n)}function uu(e,r,t,n,o){Mu.uniform4f(mr.uniforms[e],r,t,n,o)}function su(e,r,t){if(4*r<=mr.MINI_TEMP_BUFFER_SIZE)for(var n=mr.miniTempBufferViews[4*r-1],o=0;o<4*r;o+=4)n[o]=ie[t+4*o>>2],n[o+1]=ie[t+(4*o+4)>>2],n[o+2]=ie[t+(4*o+8)>>2],n[o+3]=ie[t+(4*o+12)>>2];else n=ie.subarray(t>>2,t+16*r>>2);Mu.uniform4fv(mr.uniforms[e],n)}function cu(e,r,t,n){if(16*r<=mr.MINI_TEMP_BUFFER_SIZE)for(var o=mr.miniTempBufferViews[16*r-1],i=0;i<16*r;i+=16)o[i]=ie[n+4*i>>2],o[i+1]=ie[n+(4*i+4)>>2],o[i+2]=ie[n+(4*i+8)>>2],o[i+3]=ie[n+(4*i+12)>>2],o[i+4]=ie[n+(4*i+16)>>2],o[i+5]=ie[n+(4*i+20)>>2],o[i+6]=ie[n+(4*i+24)>>2],o[i+7]=ie[n+(4*i+28)>>2],o[i+8]=ie[n+(4*i+32)>>2],o[i+9]=ie[n+(4*i+36)>>2],o[i+10]=ie[n+(4*i+40)>>2],o[i+11]=ie[n+(4*i+44)>>2],o[i+12]=ie[n+(4*i+48)>>2],o[i+13]=ie[n+(4*i+52)>>2],o[i+14]=ie[n+(4*i+56)>>2],o[i+15]=ie[n+(4*i+60)>>2];else o=ie.subarray(n>>2,n+64*r>>2);Mu.uniformMatrix4fv(mr.uniforms[e],!!t,o)}function lu(e){Mu.useProgram(mr.programs[e])}function fu(e,r,t,n,o,i){Mu.vertexAttribPointer(e,r,t,!!n,o,i)}function mu(e,r,t,n){Mu.viewport(e,r,t,n)}function du(e){return Math.pow(2,e)}function pu(e){return du(e)}var _u=1121968;q("GMT",1122016,4);function gu(){if(!gu.called){gu.called=!0,ne[Ju()>>2]=60*(new Date).getTimezoneOffset();var e=new Date(2e3,0,1),r=new Date(2e3,6,1);ne[Ku()>>2]=Number(e.getTimezoneOffset()!=r.getTimezoneOffset());var t=a(e),n=a(r),o=O(Nu(t),"i8",B),i=O(Nu(n),"i8",B);r.getTimezoneOffset()<e.getTimezoneOffset()?(ne[$u()>>2]=o,ne[$u()+4>>2]=i):(ne[$u()>>2]=i,ne[$u()+4>>2]=o)}function a(e){var r=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return r?r[1]:"GMT"}}function vu(e,r){gu();var t=new Date(1e3*ne[e>>2]);ne[r>>2]=t.getSeconds(),ne[r+4>>2]=t.getMinutes(),ne[r+8>>2]=t.getHours(),ne[r+12>>2]=t.getDate(),ne[r+16>>2]=t.getMonth(),ne[r+20>>2]=t.getFullYear()-1900,ne[r+24>>2]=t.getDay();var n=new Date(t.getFullYear(),0,1),o=(t.getTime()-n.getTime())/864e5|0;ne[r+28>>2]=o,ne[r+36>>2]=-60*t.getTimezoneOffset();var i=new Date(2e3,6,1).getTimezoneOffset(),a=n.getTimezoneOffset(),u=0|(i!=a&&t.getTimezoneOffset()==Math.min(a,i));ne[r+32>>2]=u;var s=ne[$u()+(u?4:0)>>2];return ne[r+40>>2]=s,r}function hu(e){return vu(e,_u)}function yu(e,r){throw ns(e,r||1),"longjmp"}function Eu(e,r,t){ee.set(ee.subarray(r,r+t),e)}function wu(e,r){if(0===e)return Tr(22),-1;var t=ne[e>>2],n=ne[e+4>>2];return n<0||n>999999999||t<0?(Tr(22),-1):(0!==r&&(ne[r>>2]=0,ne[r+4>>2]=0),Ke(1e6*t+n/1e3))}function bu(e){ys("OOM")}function xu(e){e=ce(e,65536);var r=J.byteLength;try{return-1!==x.grow((e-r)/65536)&&(J=x.buffer,!0)}catch(e){return!1}}function ku(e){var r=Nt(),t=65536,n=2147418112;if(e>n)return!1;for(var o=Math.max(r,16777216);o<e;)o=o<=536870912?ce(2*o,t):Math.min(ce((3*o+2147483648)/4,t),n);return!!xu(o)&&(le(),!0)}function Su(e){return e%4==0&&(e%100!=0||e%400==0)}function Cu(e,r){for(var t=0,n=0;n<=r;t+=e[n++]);return t}var Du=[31,29,31,30,31,30,31,31,30,31,30,31],Au=[31,28,31,30,31,30,31,31,30,31,30,31];function Fu(e,r){for(var t=new Date(e.getTime());r>0;){var n=Su(t.getFullYear()),o=t.getMonth(),i=(n?Du:Au)[o];if(!(r>i-t.getDate()))return t.setDate(t.getDate()+r),t;r-=i-t.getDate()+1,t.setDate(1),o<11?t.setMonth(o+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return t}function Lu(e,r,t,n){var o=ne[n+40>>2],i={tm_sec:ne[n>>2],tm_min:ne[n+4>>2],tm_hour:ne[n+8>>2],tm_mday:ne[n+12>>2],tm_mon:ne[n+16>>2],tm_year:ne[n+20>>2],tm_wday:ne[n+24>>2],tm_yday:ne[n+28>>2],tm_isdst:ne[n+32>>2],tm_gmtoff:ne[n+36>>2],tm_zone:o?G(o):""},a=G(t),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var s in u)a=a.replace(new RegExp(s,"g"),u[s]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,r,t){for(var n="number"==typeof e?e.toString():e||"";n.length<r;)n=t[0]+n;return n}function m(e,r){return f(e,r,"0")}function d(e,r){function t(e){return e<0?-1:e>0?1:0}var n;return 0===(n=t(e.getFullYear()-r.getFullYear()))&&0===(n=t(e.getMonth()-r.getMonth()))&&(n=t(e.getDate()-r.getDate())),n}function p(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function _(e){var r=Fu(new Date(e.tm_year+1900,0,1),e.tm_yday),t=new Date(r.getFullYear(),0,4),n=new Date(r.getFullYear()+1,0,4),o=p(t),i=p(n);return d(o,r)<=0?d(i,r)<=0?r.getFullYear()+1:r.getFullYear():r.getFullYear()-1}var g={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return m((e.tm_year+1900)/100|0,2)},"%d":function(e){return m(e.tm_mday,2)},"%e":function(e){return f(e.tm_mday,2," ")},"%g":function(e){return _(e).toString().substring(2)},"%G":function(e){return _(e)},"%H":function(e){return m(e.tm_hour,2)},"%I":function(e){var r=e.tm_hour;return 0==r?r=12:r>12&&(r-=12),m(r,2)},"%j":function(e){return m(e.tm_mday+Cu(Su(e.tm_year+1900)?Du:Au,e.tm_mon-1),3)},"%m":function(e){return m(e.tm_mon+1,2)},"%M":function(e){return m(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return m(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var r=new Date(e.tm_year+1900,0,1),t=0===r.getDay()?r:Fu(r,7-r.getDay()),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(d(t,n)<0){var o=Cu(Su(n.getFullYear())?Du:Au,n.getMonth()-1)-31,i=31-t.getDate()+o+n.getDate();return m(Math.ceil(i/7),2)}return 0===d(t,r)?"01":"00"},"%V":function(e){var r,t=new Date(e.tm_year+1900,0,4),n=new Date(e.tm_year+1901,0,4),o=p(t),i=p(n),a=Fu(new Date(e.tm_year+1900,0,1),e.tm_yday);return d(a,o)<0?"53":d(i,a)<=0?"01":(r=o.getFullYear()<e.tm_year+1900?e.tm_yday+32-o.getDate():e.tm_yday+1-o.getDate(),m(Math.ceil(r/7),2))},"%w":function(e){return e.tm_wday},"%W":function(e){var r=new Date(e.tm_year,0,1),t=1===r.getDay()?r:Fu(r,0===r.getDay()?1:7-r.getDay()+1),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(d(t,n)<0){var o=Cu(Su(n.getFullYear())?Du:Au,n.getMonth()-1)-31,i=31-t.getDate()+o+n.getDate();return m(Math.ceil(i/7),2)}return 0===d(t,r)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var r=e.tm_gmtoff,t=r>=0;return r=(r=Math.abs(r)/60)/60*100+r%60,(t?"+":"-")+String("0000"+r).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var s in g)a.indexOf(s)>=0&&(a=a.replace(new RegExp(s,"g"),g[s](i)));var v=Nu(a,!1);return v.length>r?0:(H(v,e),v.length-1)}function Ru(e){switch(e){case 30:return ue;case 85:return 2147418112/ue;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return Tr(22),-1}function Tu(e){var r=Date.now()/1e3|0;return e&&(ne[e>>2]=r),r}var Mu,Pu=1121952;if(a.requestFullScreen=function(e,r,t){return;h("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),a.requestFullScreen=a.requestFullscreen,Ze.requestFullScreen(e,r,t)},a.requestFullscreen=function(e,r,t){return;Ze.requestFullscreen(e,r,t)},a.requestAnimationFrame=function(e){Ze.requestAnimationFrame(e)},a.setCanvasSize=function(e,r,t){Ze.setCanvasSize(e,r,t)},a.pauseMainLoop=function(){a.onRunning=!1,Ze.mainLoop.pause()},a.resumeMainLoop=function(){if(a.runMusic&&0==Je.startTime)return a.MusicMSG();a.onRunning=!0,Ze.mainLoop.resume()},a.getUserMedia=function(){Ze.getUserMedia()},a.createContext=function(e,r,t,n){return Ze.createContext(e,r,t,n)},Ye=l?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:"object"==typeof performance&&performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,mr.init(),Ur.staticInit(),f){var Bu=require("fs"),Iu=require("path");Or.staticInit()}for(var Ou=0;Ou<32;Ou++)Mn.push(new Array(Ou));function Nu(e,r,t){var n=t>0?t:W(e)+1,o=new Array(n),i=z(e,o,0,o.length);return r&&(o.length=i),o}function Uu(e){var r=us();try{return ss(e)}catch(e){if(as(r),e!==e+0&&"longjmp"!==e)throw e;ns(1,0)}}function ju(e,r){var t=us();try{return cs(e,r)}catch(e){if(as(t),e!==e+0&&"longjmp"!==e)throw e;ns(1,0)}}function Gu(e,r,t){var n=us();try{return ls(e,r,t)}catch(e){if(as(n),e!==e+0&&"longjmp"!==e)throw e;ns(1,0)}}function zu(e,r,t,n){var o=us();try{return fs(e,r,t,n)}catch(e){if(as(o),e!==e+0&&"longjmp"!==e)throw e;ns(1,0)}}function qu(e,r,t,n,o,i){var a=us();try{return ms(e,r,t,n,o,i)}catch(e){if(as(a),e!==e+0&&"longjmp"!==e)throw e;ns(1,0)}}function Wu(e){var r=us();try{ds(e)}catch(e){if(as(r),e!==e+0&&"longjmp"!==e)throw e;ns(1,0)}}function Xu(e,r){var t=us();try{ps(e,r)}catch(e){if(as(t),e!==e+0&&"longjmp"!==e)throw e;ns(1,0)}}function Vu(e,r,t){var n=us();try{_s(e,r,t)}catch(e){if(as(n),e!==e+0&&"longjmp"!==e)throw e;ns(1,0)}}var Hu={},Yu={abort:ys,setTempRet0:S,getTempRet0:C,invoke_i:Uu,invoke_ii:ju,invoke_iii:Gu,invoke_iiii:zu,invoke_iiiiii:qu,invoke_v:Wu,invoke_vi:Xu,invoke_vii:Vu,_RWebAudioBufferSize:$e,_RWebAudioFree:er,_RWebAudioInit:rr,_RWebAudioRecalibrateTime:tr,_RWebAudioSampleRate:nr,_RWebAudioSetNonblockState:or,_RWebAudioStart:ir,_RWebAudioStop:ar,_RWebAudioWrite:ur,_RWebAudioWriteAvail:sr,_RWebCamFree:lr,_RWebCamInit:fr,_RWebCamPoll:gr,_RWebCamStart:Er,_RWebCamStop:br,___assert_fail:xr,___buildEnvironment:Sr,___cxa_atexit:Dr,___cxa_uncaught_exception:Ar,___gxx_personality_v0:Fr,___lock:Lr,___setErrNo:Tr,___syscall10:Gr,___syscall140:zr,___syscall145:qr,___syscall146:Wr,___syscall194:Xr,___syscall195:Vr,___syscall197:Hr,___syscall20:Qr,___syscall220:Zr,___syscall221:Kr,___syscall3:Jr,___syscall38:$r,___syscall39:et,___syscall4:rt,___syscall40:tt,___syscall5:nt,___syscall54:ot,___syscall6:it,___syscall85:at,___unlock:ut,__addDays:Fu,__arraySum:Cu,__computeUnpackAlignedImageSize:Yo,__fillGamepadEventData:It,__fillMouseEventData:Ki,__findCanvasEventTarget:Pt,__findEventTarget:Mt,__glGenObject:vr,__isLeapYear:Su,__registerMouseEventCallback:Ji,__registerWheelEventCallback:ta,__requestPointerLock:Ft,_abort:st,_atexit:Cr,_clock_gettime:lt,_eglBindAPI:mt,_eglChooseConfig:dt,_eglCreateContext:pt,_eglCreateWindowSurface:_t,_eglDestroyContext:gt,_eglDestroySurface:vt,_eglGetConfigs:ht,_eglGetCurrentContext:yt,_eglGetDisplay:Et,_eglGetError:wt,_eglGetProcAddress:bt,_eglInitialize:xt,_eglMakeCurrent:kt,_eglQuerySurface:St,_eglSwapBuffers:Ct,_eglTerminate:Dt,_emscripten_asm_const_iiii:Xe,_emscripten_exit_pointerlock:Lt,_emscripten_force_exit:Rt,_emscripten_get_canvas_element_size:Bt,_emscripten_get_gamepad_status:Ot,_emscripten_get_heap_size:Nt,_emscripten_get_now:Ye,_emscripten_get_now_is_monotonic:ct,_emscripten_get_num_gamepads:Ut,_emscripten_glActiveTexture:jt,_emscripten_glAttachShader:Gt,_emscripten_glBeginQueryEXT:zt,_emscripten_glBindAttribLocation:qt,_emscripten_glBindBuffer:Wt,_emscripten_glBindFramebuffer:Xt,_emscripten_glBindRenderbuffer:Vt,_emscripten_glBindTexture:Ht,_emscripten_glBindVertexArrayOES:Yt,_emscripten_glBlendColor:Qt,_emscripten_glBlendEquation:Zt,_emscripten_glBlendEquationSeparate:Kt,_emscripten_glBlendFunc:Jt,_emscripten_glBlendFuncSeparate:$t,_emscripten_glBufferData:en,_emscripten_glBufferSubData:rn,_emscripten_glCheckFramebufferStatus:tn,_emscripten_glClear:nn,_emscripten_glClearColor:on,_emscripten_glClearDepthf:an,_emscripten_glClearStencil:un,_emscripten_glColorMask:sn,_emscripten_glCompileShader:cn,_emscripten_glCompressedTexImage2D:ln,_emscripten_glCompressedTexSubImage2D:fn,_emscripten_glCopyTexImage2D:mn,_emscripten_glCopyTexSubImage2D:dn,_emscripten_glCreateProgram:pn,_emscripten_glCreateShader:_n,_emscripten_glCullFace:gn,_emscripten_glDeleteBuffers:vn,_emscripten_glDeleteFramebuffers:hn,_emscripten_glDeleteProgram:yn,_emscripten_glDeleteQueriesEXT:En,_emscripten_glDeleteRenderbuffers:wn,_emscripten_glDeleteShader:bn,_emscripten_glDeleteTextures:xn,_emscripten_glDeleteVertexArraysOES:kn,_emscripten_glDepthFunc:Sn,_emscripten_glDepthMask:Cn,_emscripten_glDepthRangef:Dn,_emscripten_glDetachShader:An,_emscripten_glDisable:Fn,_emscripten_glDisableVertexAttribArray:Ln,_emscripten_glDrawArrays:Rn,_emscripten_glDrawArraysInstancedANGLE:Tn,_emscripten_glDrawBuffersWEBGL:Pn,_emscripten_glDrawElements:Bn,_emscripten_glDrawElementsInstancedANGLE:In,_emscripten_glEnable:On,_emscripten_glEnableVertexAttribArray:Nn,_emscripten_glEndQueryEXT:Un,_emscripten_glFinish:jn,_emscripten_glFlush:Gn,_emscripten_glFramebufferRenderbuffer:zn,_emscripten_glFramebufferTexture2D:qn,_emscripten_glFrontFace:Wn,_emscripten_glGenBuffers:Xn,_emscripten_glGenFramebuffers:Vn,_emscripten_glGenQueriesEXT:Hn,_emscripten_glGenRenderbuffers:Yn,_emscripten_glGenTextures:Qn,_emscripten_glGenVertexArraysOES:Zn,_emscripten_glGenerateMipmap:Kn,_emscripten_glGetActiveAttrib:Jn,_emscripten_glGetActiveUniform:$n,_emscripten_glGetAttachedShaders:eo,_emscripten_glGetAttribLocation:ro,_emscripten_glGetBooleanv:to,_emscripten_glGetBufferParameteriv:no,_emscripten_glGetError:oo,_emscripten_glGetFloatv:io,_emscripten_glGetFramebufferAttachmentParameteriv:ao,_emscripten_glGetIntegerv:uo,_emscripten_glGetProgramInfoLog:so,_emscripten_glGetProgramiv:co,_emscripten_glGetQueryObjecti64vEXT:lo,_emscripten_glGetQueryObjectivEXT:fo,_emscripten_glGetQueryObjectui64vEXT:mo,_emscripten_glGetQueryObjectuivEXT:po,_emscripten_glGetQueryivEXT:_o,_emscripten_glGetRenderbufferParameteriv:go,_emscripten_glGetShaderInfoLog:vo,_emscripten_glGetShaderPrecisionFormat:ho,_emscripten_glGetShaderSource:yo,_emscripten_glGetShaderiv:Eo,_emscripten_glGetString:bo,_emscripten_glGetTexParameterfv:xo,_emscripten_glGetTexParameteriv:ko,_emscripten_glGetUniformLocation:So,_emscripten_glGetUniformfv:Do,_emscripten_glGetUniformiv:Ao,_emscripten_glGetVertexAttribPointerv:Fo,_emscripten_glGetVertexAttribfv:Ro,_emscripten_glGetVertexAttribiv:To,_emscripten_glHint:Mo,_emscripten_glIsBuffer:Po,_emscripten_glIsEnabled:Bo,_emscripten_glIsFramebuffer:Io,_emscripten_glIsProgram:Oo,_emscripten_glIsQueryEXT:No,_emscripten_glIsRenderbuffer:Uo,_emscripten_glIsShader:jo,_emscripten_glIsTexture:Go,_emscripten_glIsVertexArrayOES:zo,_emscripten_glLineWidth:qo,_emscripten_glLinkProgram:Wo,_emscripten_glPixelStorei:Xo,_emscripten_glPolygonOffset:Vo,_emscripten_glQueryCounterEXT:Ho,_emscripten_glReadPixels:Jo,_emscripten_glReleaseShaderCompiler:$o,_emscripten_glRenderbufferStorage:ei,_emscripten_glSampleCoverage:ri,_emscripten_glScissor:ti,_emscripten_glShaderBinary:ni,_emscripten_glShaderSource:oi,_emscripten_glStencilFunc:ii,_emscripten_glStencilFuncSeparate:ai,_emscripten_glStencilMask:ui,_emscripten_glStencilMaskSeparate:si,_emscripten_glStencilOp:ci,_emscripten_glStencilOpSeparate:li,_emscripten_glTexImage2D:fi,_emscripten_glTexParameterf:mi,_emscripten_glTexParameterfv:di,_emscripten_glTexParameteri:pi,_emscripten_glTexParameteriv:_i,_emscripten_glTexSubImage2D:gi,_emscripten_glUniform1f:vi,_emscripten_glUniform1fv:hi,_emscripten_glUniform1i:yi,_emscripten_glUniform1iv:Ei,_emscripten_glUniform2f:wi,_emscripten_glUniform2fv:bi,_emscripten_glUniform2i:xi,_emscripten_glUniform2iv:ki,_emscripten_glUniform3f:Si,_emscripten_glUniform3fv:Ci,_emscripten_glUniform3i:Di,_emscripten_glUniform3iv:Ai,_emscripten_glUniform4f:Fi,_emscripten_glUniform4fv:Li,_emscripten_glUniform4i:Ri,_emscripten_glUniform4iv:Ti,_emscripten_glUniformMatrix2fv:Mi,_emscripten_glUniformMatrix3fv:Pi,_emscripten_glUniformMatrix4fv:Bi,_emscripten_glUseProgram:Ii,_emscripten_glValidateProgram:Oi,_emscripten_glVertexAttrib1f:Ni,_emscripten_glVertexAttrib1fv:Ui,_emscripten_glVertexAttrib2f:ji,_emscripten_glVertexAttrib2fv:Gi,_emscripten_glVertexAttrib3f:zi,_emscripten_glVertexAttrib3fv:qi,_emscripten_glVertexAttrib4f:Wi,_emscripten_glVertexAttrib4fv:Xi,_emscripten_glVertexAttribDivisorANGLE:Vi,_emscripten_glVertexAttribPointer:Hi,_emscripten_glViewport:Yi,_emscripten_memcpy_big:Eu,_emscripten_request_pointerlock:Qi,_emscripten_resize_heap:ku,_emscripten_set_canvas_element_size:Zi,_emscripten_set_main_loop:Qe,_emscripten_set_main_loop_timing:He,_emscripten_set_mousedown_callback_on_thread:$i,_emscripten_set_mousemove_callback_on_thread:ea,_emscripten_set_mouseup_callback_on_thread:ra,_emscripten_set_wheel_callback_on_thread:na,_exit:oa,_getenv:ia,_glActiveTexture:aa,_glAttachShader:ua,_glBindBuffer:sa,_glBindFramebuffer:ca,_glBindRenderbuffer:la,_glBindTexture:dr,_glBlendEquation:fa,_glBlendFunc:ma,_glBufferData:da,_glCheckFramebufferStatus:pa,_glClear:_a,_glClearColor:ga,_glCompileShader:va,_glCreateProgram:ha,_glCreateShader:ya,_glDeleteBuffers:Ea,_glDeleteFramebuffers:wa,_glDeleteProgram:ba,_glDeleteRenderbuffers:xa,_glDeleteShader:ka,_glDeleteTextures:wr,_glDisable:Sa,_glDisableVertexAttribArray:Ca,_glDrawArrays:Da,_glEnable:Aa,_glEnableVertexAttribArray:Fa,_glFinish:La,_glFlush:Ra,_glFramebufferRenderbuffer:Ta,_glFramebufferTexture2D:Ma,_glGenBuffers:Pa,_glGenFramebuffers:Ba,_glGenRenderbuffers:Ia,_glGenTextures:hr,_glGenerateMipmap:Oa,_glGetAttribLocation:Na,_glGetError:Ua,_glGetIntegerv:_r,_glGetProgramInfoLog:ja,_glGetProgramiv:Ga,_glGetShaderInfoLog:za,_glGetShaderiv:qa,_glGetString:Wa,_glGetUniformLocation:Xa,_glIsProgram:Va,_glLinkProgram:Ha,_glPixelStorei:Ya,_glReadPixels:Qa,_glRenderbufferStorage:Za,_glShaderSource:Ka,_glTexImage2D:Ja,_glTexParameteri:yr,_glTexSubImage2D:$a,_glUniform1f:eu,_glUniform1fv:ru,_glUniform1i:tu,_glUniform2f:nu,_glUniform2fv:ou,_glUniform3f:iu,_glUniform3fv:au,_glUniform4f:uu,_glUniform4fv:su,_glUniformMatrix4fv:cu,_glUseProgram:lu,_glVertexAttribPointer:fu,_glViewport:mu,_llvm_exp2_f32:du,_llvm_exp2_f64:pu,_localtime:hu,_localtime_r:vu,_longjmp:yu,_nanosleep:wu,_strftime:Lu,_sysconf:Ru,_time:Tu,_tzset:gu,_usleep:Ke,abortOnCannotGrowMemory:bu,emscriptenWebGLGet:pr,emscriptenWebGLGetTexPixelData:Ko,emscriptenWebGLGetUniform:Co,emscriptenWebGLGetVertexAttrib:Lo,emscripten_realloc_buffer:xu,stringToNewUTF8:wo,tempDoublePtr:Ve,DYNAMICTOP_PTR:me,___dso_handle:Pu},Qu=a.asm(Hu,Yu,J);a.asm=Qu;var Zu=a.__ZSt18uncaught_exceptionv=function(){return a.asm.__ZSt18uncaught_exceptionv.apply(null,arguments)},Ku=(a.___cxa_can_catch=function(){return a.asm.___cxa_can_catch.apply(null,arguments)},a.___cxa_is_pointer_type=function(){return a.asm.___cxa_is_pointer_type.apply(null,arguments)},a.___errno_location=function(){return a.asm.___errno_location.apply(null,arguments)},a.__get_daylight=function(){return a.asm.__get_daylight.apply(null,arguments)}),Ju=(a.__get_environ=function(){return a.asm.__get_environ.apply(null,arguments)},a.__get_timezone=function(){return a.asm.__get_timezone.apply(null,arguments)}),$u=a.__get_tzname=function(){return a.asm.__get_tzname.apply(null,arguments)},es=(a._cmd_load_state=function(){return a.asm._cmd_load_state.apply(null,arguments)},a._cmd_save_state=function(){return a.asm._cmd_save_state.apply(null,arguments)},a._cmd_savefiles=function(){return a.asm._cmd_savefiles.apply(null,arguments)},a._cmd_take_screenshot=function(){return a.asm._cmd_take_screenshot.apply(null,arguments)},a._emscripten_GetProcAddress=function(){return a.asm._emscripten_GetProcAddress.apply(null,arguments)}),rs=(a._emscripten_replace_memory=function(){return a.asm._emscripten_replace_memory.apply(null,arguments)},a._event_load_save_files=function(){return a.asm._event_load_save_files.apply(null,arguments)},a._fast_forward=function(){return a.asm._fast_forward.apply(null,arguments)},a._fflush=function(){return a.asm._fflush.apply(null,arguments)},a._free=function(){return a.asm._free.apply(null,arguments)}),ts=(a._get_current_frame_count=function(){return a.asm._get_current_frame_count.apply(null,arguments)},a._get_mem_addr=function(){return a.asm._get_mem_addr.apply(null,arguments)},a._get_state_info=function(){return a.asm._get_state_info.apply(null,arguments)},a._llvm_bswap_i32=function(){return a.asm._llvm_bswap_i32.apply(null,arguments)},a._llvm_minnum_f32=function(){return a.asm._llvm_minnum_f32.apply(null,arguments)},a._llvm_round_f32=function(){return a.asm._llvm_round_f32.apply(null,arguments)},a._load_state=function(){return a.asm._load_state.apply(null,arguments)},a._load_state_from_address=function(){return a.asm._load_state_from_address.apply(null,arguments)},a._main=function(){return a.asm._main.apply(null,arguments)},a._malloc=function(){return a.asm._malloc.apply(null,arguments)}),ns=(a._memcpy=function(){return a.asm._memcpy.apply(null,arguments)},a._memmove=function(){return a.asm._memmove.apply(null,arguments)},a._memset=function(){return a.asm._memset.apply(null,arguments)},a._realloc=function(){return a.asm._realloc.apply(null,arguments)},a._reset_cheat=function(){return a.asm._reset_cheat.apply(null,arguments)},a._saveSetjmp=function(){return a.asm._saveSetjmp.apply(null,arguments)},a._sbrk=function(){return a.asm._sbrk.apply(null,arguments)},a._setThrew=function(){return a.asm._setThrew.apply(null,arguments)}),os=(a._set_cheat=function(){return a.asm._set_cheat.apply(null,arguments)},a._set_variable=function(){return a.asm._set_variable.apply(null,arguments)},a._set_volume=function(){return a.asm._set_volume.apply(null,arguments)},a._shader_enable=function(){return a.asm._shader_enable.apply(null,arguments)},a._simulate_input=function(){return a.asm._simulate_input.apply(null,arguments)},a._strstr=function(){return a.asm._strstr.apply(null,arguments)},a._system_pause=function(){return a.asm._system_pause.apply(null,arguments)},a._system_restart=function(){return a.asm._system_restart.apply(null,arguments)},a._testSetjmp=function(){return a.asm._testSetjmp.apply(null,arguments)},a.establishStackSpace=function(){return a.asm.establishStackSpace.apply(null,arguments)},a.globalCtors=function(){return a.asm.globalCtors.apply(null,arguments)}),is=a.stackAlloc=function(){return a.asm.stackAlloc.apply(null,arguments)},as=a.stackRestore=function(){return a.asm.stackRestore.apply(null,arguments)},us=a.stackSave=function(){return a.asm.stackSave.apply(null,arguments)},ss=(a.dynCall_fi=function(){return a.asm.dynCall_fi.apply(null,arguments)},a.dynCall_fii=function(){return a.asm.dynCall_fii.apply(null,arguments)},a.dynCall_fiii=function(){return a.asm.dynCall_fiii.apply(null,arguments)},a.dynCall_i=function(){return a.asm.dynCall_i.apply(null,arguments)}),cs=a.dynCall_ii=function(){return a.asm.dynCall_ii.apply(null,arguments)},ls=(a.dynCall_iidii=function(){return a.asm.dynCall_iidii.apply(null,arguments)},a.dynCall_iidiiii=function(){return a.asm.dynCall_iidiiii.apply(null,arguments)},a.dynCall_iif=function(){return a.asm.dynCall_iif.apply(null,arguments)},a.dynCall_iii=function(){return a.asm.dynCall_iii.apply(null,arguments)}),fs=(a.dynCall_iiifi=function(){return a.asm.dynCall_iiifi.apply(null,arguments)},a.dynCall_iiii=function(){return a.asm.dynCall_iiii.apply(null,arguments)}),ms=(a.dynCall_iiiif=function(){return a.asm.dynCall_iiiif.apply(null,arguments)},a.dynCall_iiiii=function(){return a.asm.dynCall_iiiii.apply(null,arguments)},a.dynCall_iiiiifiii=function(){return a.asm.dynCall_iiiiifiii.apply(null,arguments)},a.dynCall_iiiiii=function(){return a.asm.dynCall_iiiiii.apply(null,arguments)}),ds=(a.dynCall_iiiiiii=function(){return a.asm.dynCall_iiiiiii.apply(null,arguments)},a.dynCall_iiiiiiii=function(){return a.asm.dynCall_iiiiiiii.apply(null,arguments)},a.dynCall_iiiiiiiii=function(){return a.asm.dynCall_iiiiiiiii.apply(null,arguments)},a.dynCall_iiiiijiii=function(){return a.asm.dynCall_iiiiijiii.apply(null,arguments)},a.dynCall_iijii=function(){return a.asm.dynCall_iijii.apply(null,arguments)},a.dynCall_iijijii=function(){return a.asm.dynCall_iijijii.apply(null,arguments)},a.dynCall_j=function(){return a.asm.dynCall_j.apply(null,arguments)},a.dynCall_ji=function(){return a.asm.dynCall_ji.apply(null,arguments)},a.dynCall_jiij=function(){return a.asm.dynCall_jiij.apply(null,arguments)},a.dynCall_jij=function(){return a.asm.dynCall_jij.apply(null,arguments)},a.dynCall_jiji=function(){return a.asm.dynCall_jiji.apply(null,arguments)},a.dynCall_jijii=function(){return a.asm.dynCall_jijii.apply(null,arguments)},a.dynCall_v=function(){return a.asm.dynCall_v.apply(null,arguments)}),ps=(a.dynCall_vf=function(){return a.asm.dynCall_vf.apply(null,arguments)},a.dynCall_vff=function(){return a.asm.dynCall_vff.apply(null,arguments)},a.dynCall_vffff=function(){return a.asm.dynCall_vffff.apply(null,arguments)},a.dynCall_vfi=function(){return a.asm.dynCall_vfi.apply(null,arguments)},a.dynCall_vi=function(){return a.asm.dynCall_vi.apply(null,arguments)}),_s=(a.dynCall_vif=function(){return a.asm.dynCall_vif.apply(null,arguments)},a.dynCall_viff=function(){return a.asm.dynCall_viff.apply(null,arguments)},a.dynCall_vifff=function(){return a.asm.dynCall_vifff.apply(null,arguments)},a.dynCall_viffff=function(){return a.asm.dynCall_viffff.apply(null,arguments)},a.dynCall_vii=function(){return a.asm.dynCall_vii.apply(null,arguments)});a.dynCall_viif=function(){return a.asm.dynCall_viif.apply(null,arguments)},a.dynCall_viiffff=function(){return a.asm.dynCall_viiffff.apply(null,arguments)},a.dynCall_viii=function(){return a.asm.dynCall_viii.apply(null,arguments)},a.dynCall_viiii=function(){return a.asm.dynCall_viiii.apply(null,arguments)},a.dynCall_viiiii=function(){return a.asm.dynCall_viiiii.apply(null,arguments)},a.dynCall_viiiiif=function(){return a.asm.dynCall_viiiiif.apply(null,arguments)},a.dynCall_viiiiii=function(){return a.asm.dynCall_viiiiii.apply(null,arguments)},a.dynCall_viiiiiii=function(){return a.asm.dynCall_viiiiiii.apply(null,arguments)},a.dynCall_viiiiiiii=function(){return a.asm.dynCall_viiiiiiii.apply(null,arguments)},a.dynCall_viiiiiiiii=function(){return a.asm.dynCall_viiiiiiiii.apply(null,arguments)},a.dynCall_vj=function(){return a.asm.dynCall_vj.apply(null,arguments)};function gs(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}a.asm=Qu,a.ccall=M,a.cwrap=P,a.setValue=A,a.getValue=F,a.FS=Ur,a.then=function(e){if(a.calledRun)e(a);else{var r=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){r&&r(),e(a)}}return a},gs.prototype=new Error,gs.prototype.constructor=gs;function vs(e){function r(){a.calledRun||(a.calledRun=!0,L||(xe(),ke(),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a._main&&Es&&a.callMain(e),Ce()))}e=e||a.arguments,Me>0||(be(),Me>0||a.calledRun||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),r()}),1)):r()))}function hs(e,r){r&&a.noExitRuntime&&0===e||(a.noExitRuntime||(L=!0,e,Se(),a.onExit&&a.onExit(e)),a.quit(e,new gs(e)))}function ys(e){a.onAbort&&a.onAbort(e),void 0!==e?(v(e),h(e),e='"'+e+'"'):e="",L=!0,1}if(Be=function e(){a.calledRun||vs(),a.calledRun||(Be=e)},a.callMain=function(e){e=e||[],xe();var r=e.length+1,t=is(4*(r+1));ne[t>>2]=V(a.thisProgram);for(var n=1;n<r;n++)ne[(t>>2)+n]=V(e[n-1]);ne[(t>>2)+r]=0;try{hs(a._main(r,t,0),!0)}catch(e){if(e instanceof gs)return;if("SimulateInfiniteLoop"==e)return void(a.noExitRuntime=!0);var o=e;e&&"object"==typeof e&&e.stack&&(o=[e,e.stack]),h("exception thrown: "+o),a.quit(1,e)}finally{!0}},a.run=vs,a.abort=ys,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();var Es=!0;return a.noInitialRun&&(Es=!1),vs(),r}}();"object"==typeof exports&&"object"==typeof module?module.exports=EmulatorJS:"function"==typeof define&&define.amd?define([],(function(){return EmulatorJS})):"object"==typeof exports&&(exports.EmulatorJS=EmulatorJS);